


# Azure Entra ID
![image](https://github.com/xiongye77/azure/assets/36766101/0ce4f6d0-c044-4ebe-b3a4-2a1a4cc48c63)
<img width="823" alt="image" src="https://github.com/user-attachments/assets/2ca4880f-e468-4a4d-9e6b-dc382d8acda4" />

# Azure Entra ID Role and Group
<img width="1724" height="870" alt="image" src="https://github.com/user-attachments/assets/b573c744-7973-426a-a432-7f2fb6757126" />
<img width="846" height="794" alt="image" src="https://github.com/user-attachments/assets/9625d39d-2cb1-45e8-b20f-bfb865c041f5" />

# Azure Entra ID role VS Azure RBAC
<img width="1152" height="615" alt="image" src="https://github.com/user-attachments/assets/3ccd2f97-a87a-416a-9617-283e9d9d7bc7" />

# Entra ID governance
<img width="1176" height="585" alt="image" src="https://github.com/user-attachments/assets/c4e399ed-2544-45bd-b29b-27a439c1349a" />
<img width="792" height="454" alt="image" src="https://github.com/user-attachments/assets/a266a0e7-86ce-41d1-b918-da1e7382b408" />



# Azure Resource Manager 
<img width="1685" height="942" alt="image" src="https://github.com/user-attachments/assets/4d1d50b5-106a-4ebf-a999-376f89d3625c" />
<img width="1566" height="934" alt="image" src="https://github.com/user-attachments/assets/7c6e9834-d3f2-456a-9de6-53d253706231" />

# Entra ID Access review
<img width="1533" alt="image" src="https://github.com/user-attachments/assets/7af61e77-c323-4b6e-8159-74efb96ca516" />
<img width="1606" alt="image" src="https://github.com/user-attachments/assets/db6c8750-2fe2-4699-a111-f645286de107" />



# Entra ID protection 
<img width="891" height="442" alt="image" src="https://github.com/user-attachments/assets/13f99ab7-057c-4f24-8a2b-88e62242c0e5" />
<img width="1623" height="888" alt="image" src="https://github.com/user-attachments/assets/c08a87fe-fefa-4d83-a859-de0f116ab1d0" />
<img width="1644" height="833" alt="image" src="https://github.com/user-attachments/assets/3b0a4034-876e-4294-87cd-9d0bc401e1bb" />
<img width="1592" height="858" alt="image" src="https://github.com/user-attachments/assets/43e2a82a-4c34-48aa-93c8-5711f7b94442" />
<img width="798" height="980" alt="image" src="https://github.com/user-attachments/assets/aa68e716-5e94-4336-bbdf-603fe826364d" />

# Entra Connect for hybrid identity 
Microsoft Entra Connect (formerly Azure AD Connect) is a crucial tool for organizations that have a hybrid identity infrastructure, meaning they use both on-premises Active Directory and Microsoft Entra ID (the cloud-based identity and access management service)
Bridging On-Premises and Cloud: Its primary purpose is to synchronize identity data (users, groups, contacts, and their attributes) between your on-premises Active Directory (AD) and Microsoft Entra ID. This creates a unified identity system across your local network and Microsoft's cloud services


<img width="1633" height="871" alt="image" src="https://github.com/user-attachments/assets/91923b3d-e0c8-4223-a4f1-d1949ca15b26" />
<img width="1648" height="814" alt="image" src="https://github.com/user-attachments/assets/3560b78c-5d4f-493e-9d31-1c281e1028e8" />
<img width="1576" height="846" alt="image" src="https://github.com/user-attachments/assets/57577785-2240-4d4b-afcf-167e77a33fd4" />


# On premise application access Azure resource through App registration and get certificate 
Obtain a Client ID and potentially Client Secret/Certificate: The application uses these credentials to request tokens from Microsoft Entra ID for authentication and authorization.
<img width="1163" height="643" alt="image" src="https://github.com/user-attachments/assets/3c4bcebb-ce07-4c3c-9382-464b366c6271" />

# Entra ID conditional access
<img width="1556" alt="image" src="https://github.com/user-attachments/assets/124fc6fa-e284-4f42-8bb9-5828c3499d0e" />
<img width="1579" alt="image" src="https://github.com/user-attachments/assets/28464fa4-7771-49ea-8956-3229f3118fae" />
<img width="1697" height="839" alt="image" src="https://github.com/user-attachments/assets/765ee5f7-8db6-41e8-bf8d-78f58eb1e351" />

# Azure cost management 
<img width="1112" alt="image" src="https://github.com/user-attachments/assets/69b83ad5-5c8b-47f8-a45a-e716cb1ee3f9" />
<img width="1677" alt="image" src="https://github.com/user-attachments/assets/e9e3e328-a44d-4124-8d4e-b2ba525fb9d2" />
<img width="1715" alt="image" src="https://github.com/user-attachments/assets/51385f7a-5dba-4a4c-b0b3-930d2d582634" />

# Entra ID Privileged Identity Management (PIM)
<img width="1782" height="908" alt="image" src="https://github.com/user-attachments/assets/573f80f9-61f3-4f46-ad6a-7cdd8e7b556e" />
<img width="755" height="963" alt="image" src="https://github.com/user-attachments/assets/4dadc0e7-efe8-4a02-8b6a-144f526120ca" />

# Entra ID tenant type 

<img width="1317" height="783" alt="image" src="https://github.com/user-attachments/assets/f3ca4741-b51b-4042-a696-4555cb8ca7d7" />
The two main types of Entra ID tenants you will encounter are:

Workforce Tenants (Standard Microsoft Entra ID)

Customer Tenants (Entra External ID for customers, formerly Azure AD B2C)

<img width="819" height="836" alt="image" src="https://github.com/user-attachments/assets/e0e2df8c-0805-4e23-9e8f-9631a98676e3" />


# MS Zero Trust Principle 
<img width="1236" alt="image" src="https://github.com/user-attachments/assets/eb367625-7b57-489a-9782-b01789c14008" />

# Azure Sentinel
<img width="1132" alt="image" src="https://github.com/user-attachments/assets/ffebb6a5-8214-4b0b-9ed0-c48283e63513" />
MDC: Microsoft Defender for Cloud 
MDE: Microsoft Defender for Endpoint
<img width="1728" alt="image" src="https://github.com/user-attachments/assets/9739511f-2b47-48de-95f0-5a1031ff990b" />
<img width="1713" alt="image" src="https://github.com/user-attachments/assets/dcb078de-1499-4670-a2c7-cc4540a1ddd3" />
<img width="1152" alt="image" src="https://github.com/user-attachments/assets/97ea27ee-ce26-488e-83de-095808ceb740" />
<img width="1725" alt="image" src="https://github.com/user-attachments/assets/55f8307d-5abb-473f-b462-fa3aa0808a0f" />
<img width="1239" alt="image" src="https://github.com/user-attachments/assets/6a7ec68b-e241-4cdf-973a-82f66be95fcb" />
<img width="1720" alt="image" src="https://github.com/user-attachments/assets/2c1b2647-6e0f-4c2a-8b5e-c4c92a146e4b" />
<img width="1680" alt="image" src="https://github.com/user-attachments/assets/30a62f8e-805b-481a-a149-21b9749851d3" />

# How to retrieve archived log in Sentinel 
<img width="803" height="546" alt="image" src="https://github.com/user-attachments/assets/34fb2c65-c085-4e42-b4f2-e1fb46f3a5a6" />

# when an incident is caught, it will map to MITRE ATT&CK matrix
<img width="872" height="744" alt="image" src="https://github.com/user-attachments/assets/e8deb173-4d84-4578-b48b-1f1fb2e0198d" />

# My Windows VM suffer from brute RDP attack, which Tactics and Techniques it will map to ?
<img width="822" height="524" alt="image" src="https://github.com/user-attachments/assets/67a30e2c-1132-47b6-ad89-9ac9b4b8c4da" />

# What is sentinel workbook used forÂ 
<img width="756" height="833" alt="image" src="https://github.com/user-attachments/assets/c079905e-db84-4dce-b6e9-b873c0f72321" />

# what is difference between threat detection and threat hunting in sentinel

In Microsoft Sentinel, threat detection and threat hunting are two complementary but distinct activities that are crucial for a robust security strategy. The key difference lies in their approach: threat detection is reactive and automated, while threat hunting is proactive and human-driven.

Here's a breakdown of the key differences:

Threat Detection
Approach: Reactive. It relies on predefined rules, machine learning, and known indicators of compromise (IOCs) to identify malicious activity after it has occurred or is in the process of occurring.


Purpose: To automatically alert security teams to suspicious behavior or known threats. It's the first line of defense that quickly identifies and flags potential security incidents.


Methodology:

Analytics Rules: Microsoft Sentinel uses various types of analytics rules, including scheduled queries, near-real-time (NRT) rules, and machine learning-based rules (like Fusion), to analyze ingested data.

Indicators of Compromise (IOCs): It uses threat intelligence feeds to automatically look for known malicious IPs, domains, and file hashes.

Predefined Logic: The system is configured with a set of rules and algorithms to detect specific patterns, like a user logging in from an unusual location or a known malware signature.

Human Role: Security analysts monitor the alerts and incidents generated by the system. Their job is to investigate, triage, and respond to these alerts.

Threat Hunting
Approach: Proactive. It's an active, investigative process where a security analyst assumes that an attacker has already bypassed the automated defenses and is hiding in the environment.


Purpose: To uncover previously undetected threats, novel attack methods, and malicious activity that doesn't trigger standard alerts.

Methodology:

Hypothesis-Driven: Threat hunting is not random. It's based on a specific hypothesis, such as "An attacker may be using a new privilege escalation technique on our domain controllers."

Manual Investigation: Threat hunters use powerful querying tools, like Kusto Query Language (KQL) in Sentinel, to manually search through large datasets (logs, network traffic, etc.).

Behavioral Analysis: They look for subtle anomalies and deviations from normal behavior rather than just known attack signatures.

Collaboration and Documentation: The process involves creating bookmarks, documenting findings, and collaborating with the security team.

Human Role: Threat hunting is heavily reliant on the expertise, creativity, and intuition of a skilled security analyst. They must think like an attacker to anticipate and find hidden threats.

Analogy
Threat Detection: Think of a motion-activated security camera with a loud alarm. When it detects motion (a known pattern), it triggers an alert. It's a great initial defense.

Threat Hunting: Think of a detective who, after the alarm has gone off, or even without an alarm, starts a manual investigation. They look for subtle clues that the camera might have missedâlike a fresh footprint, a discarded cigarette butt, or a strange sound in the backgroundâto find a hidden intruder.

<img width="761" height="390" alt="image" src="https://github.com/user-attachments/assets/e3560d5e-6963-4fcc-9eda-620f6653bd68" />



In a nutshell, threat detection provides the essential, automated foundation for security operations, while threat hunting adds a critical layer of human-led proactive defense to catch the sophisticated threats that automation alone might miss. They are both essential components of a mature security program in Sentinel.

# Azure different Defender plan (plan1 and plan2) for different servers in same subscription 
<img width="824" height="981" alt="image" src="https://github.com/user-attachments/assets/dde4737e-9063-443a-8beb-f8bdeb008000" />

# Defender for Server Just in time VM access
<img width="1188" height="628" alt="image" src="https://github.com/user-attachments/assets/c294869b-8cf3-4734-8fdb-b77335c6de44" />

# Defener for Server File Integrity Monitor 
https://docs.azure.cn/en-us/defender-for-cloud/media/file-integrity-monitoring-overview/open-file-integrity-monitoring.png#lightbox<img width="1321" height="877" alt="image" src="https://github.com/user-attachments/assets/b2604a45-f2a2-43f0-a1be-15ea2f315c24" />
<img width="1297" height="568" alt="image" src="https://github.com/user-attachments/assets/a59c6d50-62a9-4936-b2fb-a281793ee3bc" />

# Defender for Server Network Map
<img width="1185" height="603" alt="image" src="https://github.com/user-attachments/assets/476ccf63-960c-40c7-9b47-e1083881ed1d" />
<img width="1376" height="755" alt="image" src="https://github.com/user-attachments/assets/963ab581-a718-457a-8d45-36245c25c9e8" />
<img width="1296" height="797" alt="image" src="https://github.com/user-attachments/assets/3cab0e8e-908e-4a70-8f48-2850c7362a9b" />


# Defender for Container
<img width="1221" height="673" alt="image" src="https://github.com/user-attachments/assets/8f6647ff-b445-413c-8b18-efa50d5a018c" />



# Azure Activity Log 
<img width="881" alt="image" src="https://github.com/user-attachments/assets/7919709f-16bc-4ecf-8d8d-b4c9e82d72eb" />
<img width="1259" alt="image" src="https://github.com/user-attachments/assets/fa761593-950e-439b-9100-81eaa91d84c0" />
The ARM (Azure Resource Manager) REST API (Azure Resource Manager REST API) is Microsoft Azure's RESTful interface that allows you to programmatically manage Azure resources.
Activity log is recroded at subscription level
![image](https://github.com/user-attachments/assets/88a88a37-3a96-4fca-91f3-547b78d534c4)
Archive activity log to storage account 
<img width="1639" alt="image" src="https://github.com/user-attachments/assets/3e523cec-250f-4c9a-afaf-a48a6286d104" />
<img width="1268" alt="image" src="https://github.com/user-attachments/assets/6161da4a-d4af-416c-bc03-1e6bdad84dc1" />

# Azure Blob activity log in Log Analytics 
<img width="1277" height="931" alt="image" src="https://github.com/user-attachments/assets/200887b0-a109-45a6-b027-cc0dc8e4a014" />


# Azure Firewall VS NSG 
<img width="978" height="457" alt="image" src="https://github.com/user-attachments/assets/6bac170b-3d98-498f-80af-0987939eb211" />
<img width="869" height="890" alt="image" src="https://github.com/user-attachments/assets/17d0cc16-98bf-48a2-bb24-f2725318fe3e" />
<img width="876" height="943" alt="image" src="https://github.com/user-attachments/assets/7d449795-ea5b-4fa1-9a9f-fdf8377e09dc" />



# Azure Migration Tool
<img width="1597" alt="image" src="https://github.com/user-attachments/assets/eb03c708-fef4-4b68-84a1-dab1e17789e7" />

# Azure database migration tool
<img width="1183" alt="image" src="https://github.com/user-attachments/assets/3fd7cef1-e738-4443-aad8-268fc7e16df2" />

# Azure data studio with extensions to support Azure SQL Migration
<img width="1314" alt="image" src="https://github.com/user-attachments/assets/af6a4d0d-14a4-4a95-a5a9-19f44b63c44a" />
<img width="1269" alt="image" src="https://github.com/user-attachments/assets/76a9bbc5-0c01-4e86-bd8b-40202f95dc84" />

# Azure defender for Servers plan
<img width="800" height="667" alt="image" src="https://github.com/user-attachments/assets/657a25db-d13b-4378-adad-9371b97b3224" />

# Agents 

<img width="2048" height="1060" alt="image" src="https://github.com/user-attachments/assets/7674597d-e722-4e35-a045-a0f74990f3cb" />
<img width="1538" height="972" alt="image" src="https://github.com/user-attachments/assets/7d94750a-3b54-43bd-97dc-032408f24af1" />


# Azure defender for Storage
<img width="1726" alt="image" src="https://github.com/user-attachments/assets/1e9c3471-65d1-40f3-ab99-5422f2b0d1de" />

# Most commonnly used data connectors to ingest log into Log analytics workspace
<img width="2332" height="1582" alt="image" src="https://github.com/user-attachments/assets/deed3409-2385-4cf0-9212-38b746196aaa" />

# Best practices for using these connectors
<img width="758" height="999" alt="image" src="https://github.com/user-attachments/assets/95e736c8-dbef-4281-a417-968ed2c99aeb" />

# Indgest Defender XDR findings into Sentinel 
<img width="1691" height="765" alt="image" src="https://github.com/user-attachments/assets/6443da92-6bb2-4c04-83c8-46c656747759" />
<img width="1218" height="616" alt="image" src="https://github.com/user-attachments/assets/97c3bb71-3177-4bfe-8ffd-0e94aaf6659c" />

# Conditional Access for Office 365
<img width="1267" height="610" alt="image" src="https://github.com/user-attachments/assets/fe8d0afb-36a4-4bfa-8cb0-e2718f703c8c" />


# Azure defender for Database
<img width="1506" height="856" alt="image" src="https://github.com/user-attachments/assets/30ed2491-c71b-4d6c-821f-c355a76d3a2f" />
<img width="1588" height="851" alt="image" src="https://github.com/user-attachments/assets/967cd611-5216-4bdb-bd31-3b2144f505d3" />
<img width="1728" height="846" alt="image" src="https://github.com/user-attachments/assets/c60e85e2-b8aa-45a7-8d37-fc5f625a9397" />
<img width="1714" height="797" alt="image" src="https://github.com/user-attachments/assets/53919945-36a8-41ab-a9d3-0dfbc2deb02b" />
<img width="1692" height="815" alt="image" src="https://github.com/user-attachments/assets/da016872-06ed-4d1f-8819-cb576e822b1e" />


# Azure ARC
<img width="1228" height="675" alt="image" src="https://github.com/user-attachments/assets/e2b2a0ea-9ca1-4662-8160-abf5424bdceb" />


# Kusto Query Language (KQL)
Kusto Query Language (KQL) is a powerful, read-only query language used to interact with and analyze data in services like Azure Data Explorer, Azure Monitor Logs, and Microsoft Sentinel. It's designed to be simple to read and write, with a syntax that's often compared to SQL, but tailored for fast, ad-hoc analysis of large volumes of streaming data.
<img width="1266" height="693" alt="image" src="https://github.com/user-attachments/assets/5d188c19-5b9b-40e7-8d7e-15dac7a9f6bc" />
<img width="1040" height="521" alt="image" src="https://github.com/user-attachments/assets/ad506325-2fbb-46a3-9813-b0420ab5984f" />

# Sentinel workflow 
<img width="1027" height="535" alt="image" src="https://github.com/user-attachments/assets/9f295452-de50-43d8-8cc7-780e515d7172" />


# Sentinel Analytics Rule 
<img width="860" height="518" alt="image" src="https://github.com/user-attachments/assets/4360cf41-e5f0-4746-b70d-8322ba301b2e" />
<img width="783" height="926" alt="image" src="https://github.com/user-attachments/assets/b5ddec1d-0ff9-4fc7-b34e-851a0d63294c" />
<img width="1210" height="637" alt="image" src="https://github.com/user-attachments/assets/f0153aed-808d-4b7d-8fe3-df320b2cf6bc" />

# Sentinel Hunting Query
<img width="817" height="804" alt="image" src="https://github.com/user-attachments/assets/6e17e85c-56df-4af8-83f6-464ef5c58aa8" />


# Azure SQL Audit logs 
configure audit log for Azure SQL Server 
<img width="1037" alt="image" src="https://github.com/user-attachments/assets/a6935e60-da20-489b-aad6-db03538e2dbe" />

<img width="1327" alt="image" src="https://github.com/user-attachments/assets/9827af83-5a92-4fb8-9687-6160a6462e49" />

# MDC defender plan 
Cloud Security Posture Management (CSPM) Plans:

1. Foundational CSPM (Free): this provides the basic security posture assessment and recommendations across your Azure, AWS, and GCP environments.

2. Defender Cloud Security Posture Management (Defender CSPM):

This is the enhanced paid CSPM plan. It includes advanced features beyond the free tier, such as:

Attack Path Analysis: Visualizes potential attack paths to identify and prioritize risks.

Cloud Security Explorer: Allows you to query your cloud environment to find security risks.

Security Governance: Tools to drive and track security improvements across your organization.

Data Security Posture Management (DSPM): Automatically discovers datastores with sensitive data and helps reduce data breach risks.

Microsoft Entra Permissions Management (CIEM): Provides comprehensive visibility and control over permissions for any identity and resource across Azure, AWS, and GCP.
<img width="1701" alt="image" src="https://github.com/user-attachments/assets/e2200d46-8edd-4441-a010-18614167fb3d" />


# Enabling a regulatory compliance standard such as FedRAMP High depends on having the Defender CSPM (Cloud Security Posture Management) plan enabled on that subscription. (2025/08/30)
<img width="2048" height="1010" alt="image" src="https://github.com/user-attachments/assets/6d5d0520-2cb3-4cd9-b026-364a5a7f9610" />
<img width="978" height="771" alt="image" src="https://github.com/user-attachments/assets/d78395d1-2ea3-4340-bca6-912cb7409f72" />


# Why ingesting threat intelligence (TI) feeds via TAXII into Microsoft Sentinel is useful.(2025/08/30)
<img width="1030" height="870" alt="image" src="https://github.com/user-attachments/assets/d8d00bdf-7b51-4bf6-be5a-d6def27f8f23" />
<img width="1237" height="574" alt="image" src="https://github.com/user-attachments/assets/428a33bf-ee8a-4103-b930-62d5d9072226" />
<img width="1246" height="592" alt="image" src="https://github.com/user-attachments/assets/8eceeb4c-6fa4-4a13-bc49-176877c7a24a" />


# Sentinel can ingest Defender for Cloud alerts, recommendations, and posture findings. Sentinel also gets all CWP plan alerts (Servers, Containers, Storage, SQL, etc.) after that, what we should do? (2025/08/30)
1. Normalize & Enrich the Data

Map alerts to MITRE ATT&CK tactics/techniques â Sentinel already does this for many Defender alerts. This helps analysts understand attack context.

Enrich with Threat Intelligence (CTI) â integrate threat intel feeds into Sentinel so alerts can be automatically correlated with known malicious IPs/domains/hashes.

Tag by environment or criticality â e.g., tag alerts from Production SQL differently than from Dev workloads.

2. Detection & Correlation

Use Analytics Rules in Sentinel to:

Detect chained activity (e.g., Defender for Servers âmalware detectedâ + Entra ID risky login).

Correlate Defender CWP alerts with other signals (firewall logs, identity anomalies).

Enable Fusion ML in Sentinel â automatically correlates low-severity Defender alerts into high-fidelity incidents.

3. Incident Management

Configure Automation Rules â automatically group related Defender alerts into a single incident.

Prioritize by severity + asset criticality â e.g., a Storage account malware alert on a public-facing blob should escalate faster than one in a dev/test account.

Build Incident Workbooks â dashboards showing live Defender + Sentinel incident stats (open, MTTR, trending attack surfaces).

4. Automated Response (SOAR)

Use Playbooks (Logic Apps) triggered from Defender/Sentinel incidents:

Isolate a VM flagged by Defender for Servers.

Disable an account tied to suspicious Defender for Identity alerts.

Quarantine malicious files in Defender for Storage.

Notify SecOps via Teams/Slack and open a Jira/ServiceNow ticket.

5. Continuous Compliance & Posture Improvement

Export Defender recommendations into Sentinel Workbooks.

Track Secure Score trend over time in Sentinel.

Align Defender recommendations to frameworks (NIST, CIS, FedRAMP) and surface them in compliance dashboards.

Automate alerts when a critical recommendation is still unremediated after X days.

6. Hunting & Threat Analysis

Use Hunting Queries in Sentinel with Defender data:

Find anomalous VM process executions (Defender for Servers).

Detect unusual container startup commands (Defender for Containers).

Spot repeated failed queries against SQL DBs (Defender for SQL).

Store common queries as hunting bookmarks â helps analysts investigate faster.

â Summary Workflow

Ingest Defender for Cloud + CWP data â you already did.

Normalize & enrich â MITRE, CTI, tags.

Detect & correlate â scheduled/NRT rules, Fusion ML.

Respond automatically â SOAR playbooks.

Measure & improve â compliance dashboards, Secure Score.

Proactively hunt â build KQL hunting queries for advanced threats.



# MCSB (Microsoft Cloud Security Benchmark)
<img width="1716" height="844" alt="image" src="https://github.com/user-attachments/assets/2aeb8ab4-7fe9-4761-9f45-b2c60a7c4bec" />
<img width="826" height="898" alt="image" src="https://github.com/user-attachments/assets/34b255e5-cdd8-4e27-b7ea-fae50437bbc0" />

# Defender External Attack Surface Management 
<img width="1574" height="810" alt="image" src="https://github.com/user-attachments/assets/9b7ddf58-1e49-49b2-817d-ed69dcaf6318" />


# Cloud Workload Protection (CWP) Plans
1. Microsoft Defender for Servers: Plan 2: Includes all Plan 1 features, plus more advanced capabilities like:

Agentless scanning for posture, vulnerability assessment, and secrets scanning.

Compliance assessment against various regulatory standards.

Premium Microsoft Defender Vulnerability Management.

File Integrity Monitoring (FIM).

Just-in-Time (JIT) VM access.

Adaptive application controls.

A free data ingestion benefit for specific data types to Log Analytics workspace.

2. Microsoft Defender for Storage:

Detects unusual and potentially harmful attempts to access or exploit your Azure Storage accounts (Blob, File, Azure Data Lake).

Includes Malware Scanning (an add-on) for Blob Storage, which scans uploaded blobs for malware using Microsoft Defender Antivirus capabilities.

3. Microsoft Defender for SQL:

Protects various SQL database types, including Azure SQL Database, SQL Managed Instance, SQL Server on Azure VMs, and SQL Servers on machines (on-premises or other clouds via Azure Arc).

Provides vulnerability assessment, advanced threat protection (e.g., SQL injection, brute-force attacks), and sensitive data discovery.

4. Microsoft Defender for Containers:

Secures your containerized environments, including Azure Kubernetes Service (AKS), Azure Container Instances (ACI), and non-Azure Kubernetes distributions (via Azure Arc).

Offers environment hardening, vulnerability assessments for images (Registry and Runtime), and runtime protection for nodes and clusters.

5. Microsoft Defender for App Service:

Protects your Azure App Service plans, detecting threats targeting web applications, APIs, and functions (e.g., web shell attacks, suspicious file modifications).
<img width="1728" alt="image" src="https://github.com/user-attachments/assets/e6e3f3ec-6e35-4c56-8ab3-7608cdcde167" />

# MDC recommendations 
<img width="1699" alt="image" src="https://github.com/user-attachments/assets/b25ed945-6db9-49c2-ace1-2b9b681900f8" />
<img width="1701" alt="image" src="https://github.com/user-attachments/assets/1a6b0fee-e6e9-4c8e-b0e1-0f983f5d6f6b" />
<img width="1725" alt="image" src="https://github.com/user-attachments/assets/d38e26cb-c1db-4936-b5cb-5e5bbcc00b17" />
<img width="1728" alt="image" src="https://github.com/user-attachments/assets/cc7792d0-62ce-4ff4-a85c-c3659d471419" />

# Microsoft Cloud Security Benchmark
Alignment with Industry Frameworks: A significant benefit of MCSB is its mapping to various well-known industry security frameworks and standards, such as: CIS Controls (Center for Internet Security),NIST SP 800-53 (National Institute of Standards and Technology),PCI DSS (Payment Card Industry Data Security Standard),ISO 27001
<img width="946" height="871" alt="image" src="https://github.com/user-attachments/assets/b6fed458-2a3c-42c8-9104-12f392fa1913" />

# Microsoft Purview 
<img width="789" height="508" alt="image" src="https://github.com/user-attachments/assets/42df31ea-1d3d-4d2c-ba24-4a96c4dfbcfa" />

# Microsoft GRC (Governance,Risk,Compliance)
<img width="893" height="441" alt="image" src="https://github.com/user-attachments/assets/8f67a842-c2e3-433c-9ba9-c41e4b1a8c6e" />
Shared Regulatory Standards: When you add a regulatory standard (like HIPAA, GDPR, or NIST) to your Compliance Manager dashboard, Defender for Cloud's regulatory compliance dashboard automatically begins to monitor the resources in your Azure, AWS, and GCP environments against the same standard's controls.



# Microsoft Compliance Manager
<img width="894" height="453" alt="image" src="https://github.com/user-attachments/assets/6c930136-1afb-485c-a128-83b281b84eb1" />
<img width="1750" height="1674" alt="image" src="https://github.com/user-attachments/assets/2396b7eb-e9bc-45ec-a679-1cd4e89e37d3" />



# Security Policy for MDC 


<img width="1718" alt="image" src="https://github.com/user-attachments/assets/078a5d51-58c3-4720-b4b1-4d74cf9ce7af" />


Integration with Microsoft Defender for Cloud (MDC): The MCSB is natively integrated into Microsoft Defender for Cloud. This means that MDC (specifically its CSPM capabilities) automatically assesses your Azure, AWS, and GCP resources against the MCSB 
![image](https://github.com/user-attachments/assets/016a43d8-f902-4eed-9469-776afa7005a6)

![image](https://github.com/user-attachments/assets/f8b10630-140a-4172-8a12-eff4109c3437)

# Azure policy to enable Defender for Cloud 
<img width="1282" height="324" alt="image" src="https://github.com/user-attachments/assets/bba9bac2-5bfc-438a-8cc6-63ed323530a0" />
Microsoft Defender for Cloud can be enabled using Azure Policy on all Azure subscriptions the same under the management group (MG). This is more convenient than going to the portal and logging in to each one separately, and it works even if the subscriptions are owned by different persons.
<img width="2430" height="1218" alt="image" src="https://github.com/user-attachments/assets/296c9fc6-4939-4a41-bdc9-36a94209a3ba" />



# Microsoft Defender for Cloud 
<img width="1271" height="656" alt="image" src="https://github.com/user-attachments/assets/f6dbdcaa-60f1-409b-bf88-597884d3993a" />

<img width="1631" alt="image" src="https://github.com/user-attachments/assets/a22f4166-4681-46e5-81cd-e64ec6e95787" />
<img width="1266" height="641" alt="image" src="https://github.com/user-attachments/assets/f0073496-27fd-4b8f-87ab-c8267aa4bd10" />

<img width="1562" height="690" alt="image" src="https://github.com/user-attachments/assets/79224990-447d-4e37-a786-12de831d0bbd" />

Microsoft Defender for Cloud (MDC) Cloud Workload Protection (CWP) is designed to identify and protect against various threats and misconfigurations across your cloud (Azure, AWS, GCP) and hybrid workloads (servers, containers, databases, storage, etc.)
I. Misconfigurations (often leading to security posture recommendations):
These are generally the most common findings, as they represent deviations from security best practices and can often be easily remediated. MDC's Cloud Security Posture Management (CSPM) component is heavily involved here.

1. Network Misconfigurations:

Overly Permissive Network Security Groups (NSGs)/Security Groups: Ports open to the internet (e.g., RDP, SSH, SQL, databases, web application ports) that should be restricted to specific IPs or internal networks. This is a top attack vector.

Publicly Exposed Storage Accounts: Blob containers or file shares configured for anonymous public read/write access. This can lead to data leakage or malware uploads.

Lack of Just-in-Time (JIT) VM Access: VMs with persistent open management ports (RDP/SSH) instead of using JIT to open them only when needed for a limited time.

Missing or Misconfigured Firewalls: Workloads not protected by a properly configured network firewall.

2. Identity and Access Management (IAM) Issues:

Over-privileged Identities/Accounts: Users, service principals, or managed identities with more permissions than required (Principle of Least Privilege violation).

Unused Accounts/Credentials: Inactive accounts or orphaned credentials that could be exploited.

Lack of Multi-Factor Authentication (MFA): Accounts, especially administrative ones, not enforcing MFA.

Weak Password Policies: No strong password requirements.

3. Compute (VMs, Containers) Misconfigurations:

Missing OS Security Updates/Patches: Servers (Windows and Linux) not having the latest security patches installed.

Missing Endpoint Protection (Antimalware): VMs without an active and up-to-date endpoint protection solution (e.g., Microsoft Defender for Endpoint).

Vulnerabilities in Container Images: Container images with known vulnerabilities (CVEs) found during vulnerability assessments.

Insecure Container Configurations: Containers running with elevated privileges, sharing sensitive host namespaces, or exposing unnecessary ports.

Unencrypted Disks: VM disks (OS and data) not encrypted at rest.

Lack of File Integrity Monitoring (FIM): Not monitoring critical system files and directories for unauthorized changes.

4. Database Misconfigurations:

Missing Database Encryption: Databases not encrypted at rest (e.g., Transparent Data Encryption - TDE).

Weak Authentication to Databases: Using SQL authentication instead of Azure AD authentication.

Missing Auditing/Logging: Database auditing not enabled to track access and activities.

Over-privileged Database Users: Database users with excessive permissions.

5. General Configuration Issues:

Lack of Diagnostic Logging: Critical services not sending diagnostic logs to a central log analytics workspace.

Lack of Encryption for Data in Transit: Services not enforcing TLS 1.2 or higher.

Unmanaged Certificates: Expired or soon-to-expire certificates.

II. Security Alerts (runtime threat detection):

While misconfigurations are proactive, CWP also generates alerts when actual suspicious or malicious activity is detected.

1. Compromised Accounts/Identities:

Brute-force attacks against SSH/RDP.

Unusual login locations or impossible travel.

Attempts to enumerate directory services (e.g., Active Directory).

Credential dumping attempts.

2. Malicious Activity on Servers (VMs):

Malware detection and execution (ransomware, viruses, crypto-miners).

Suspicious process execution (e.g., execution from unusual locations, unsigned binaries).

Abnormal network connections (e.g., communication with known malicious IPs, command and control servers).

Discovery or reconnaissance attempts (e.g., port scanning from within the network).

Privilege escalation attempts.

Suspicious file modifications (e.g., web shell uploads).

3. Container Runtime Threats:

Suspicious activities within containers (e.g., execution of unknown binaries, privileged container deployments, SSH servers in containers).

Attempts to escape containers or gain access to the host.

4. Database Attacks:

SQL injection attempts.

Brute-force attacks against database logins.

Data exfiltration attempts from databases.

Suspicious queries or access patterns.

5. Storage Account Threats:

Malware uploaded to storage accounts.

Detection of compromised Shared Access Signatures (SAS) tokens.

Unusual access patterns to storage (e.g., from unusual locations, IP addresses from Microsoft Threat Intelligence).

Data exfiltration attempts from storage.

Blob-hunting attempts (scanning for publicly exposed storage).

# Azure policy to Deny Public Access on Storage Accounts
<img width="1722" alt="image" src="https://github.com/user-attachments/assets/dfb30c70-fcef-4e29-81c0-a1b4a42af7ac" />

<img width="1721" alt="image" src="https://github.com/user-attachments/assets/0018ba8a-b54e-4168-a432-d700dd91d806" />

<img width="1602" alt="image" src="https://github.com/user-attachments/assets/974178e9-ac6d-4db4-a7a3-4f3f4aab0481" />
<img width="1681" alt="image" src="https://github.com/user-attachments/assets/f6314826-9923-4298-a0fb-da8bfb7b88d2" />


# Azure policy and Initiative
<img width="1725" alt="image" src="https://github.com/user-attachments/assets/747346cb-633a-49dd-808c-245974682779" />

# Azure policy assignment and Exclusion and Remediation
<img width="1711" alt="image" src="https://github.com/user-attachments/assets/9ba70dde-c6f5-4eaa-ada0-84e41aac16f6" />
<img width="1700" alt="image" src="https://github.com/user-attachments/assets/fb3d6555-cd89-4c8f-bbb3-8fe48551bf11" />
<img width="1619" alt="image" src="https://github.com/user-attachments/assets/91b3b2f8-5891-409e-ae65-b4de69a9e103" />

# Azure policy compliance report
<img width="1725" alt="image" src="https://github.com/user-attachments/assets/fa261e94-c598-457a-9cb0-086d080ae3a0" />


# Azure Advisor 
<img width="1287" alt="image" src="https://github.com/user-attachments/assets/ea032e14-8402-4695-891a-5923b563a805" />

# Microsoft Sentinel
<img width="1554" alt="image" src="https://github.com/user-attachments/assets/bc7b24a2-aec7-4585-83a6-c32bf28be5cf" />

# Microsoft Defender for Cloud 
<img width="1641" alt="image" src="https://github.com/user-attachments/assets/d54b9e0d-1af6-4e90-85e5-edf86b1ff499" />
<img width="584" alt="image" src="https://github.com/user-attachments/assets/a0ead794-5e8c-4528-b01e-41d70c2dd969" />
![image](https://github.com/user-attachments/assets/4de2acfb-f3eb-442c-90c0-ef8e7d68b9dc)



![image](https://github.com/xiongye77/azure/assets/36766101/460824be-092c-4741-80e1-76ce7592c979)
![image](https://github.com/xiongye77/azure/assets/36766101/b0d18413-dc65-4e17-9340-d847f1bad404)
![image](https://github.com/xiongye77/azure/assets/36766101/6a06c193-0d26-49c5-9c58-863b4bd671a6)

<img width="1160" alt="image" src="https://github.com/user-attachments/assets/09c5cd59-f88a-415a-bfb1-34de78ae3477" />
<img width="1713" alt="image" src="https://github.com/user-attachments/assets/3587ab2a-0ffc-432e-8f86-7f17f78c9e34" />
<img width="1727" alt="image" src="https://github.com/user-attachments/assets/d7fd4897-271d-4ea6-8e17-3b300b3b85a1" />
<img width="1493" alt="image" src="https://github.com/user-attachments/assets/ea16bb74-0d3d-4530-8159-8cc7a0c31950" />
<img width="943" alt="image" src="https://github.com/user-attachments/assets/9af9b1c8-7f5b-4260-840e-d2648915ad51" />

# MDC (Microsoft Defender for Cloud) Inventory 
<img width="1149" alt="image" src="https://github.com/user-attachments/assets/b0323e25-c644-4c9e-afc1-3b62c7eff747" />
<img width="1123" alt="image" src="https://github.com/user-attachments/assets/88d97bef-1ec0-4dc3-b4e5-2169256581e5" />
<img width="1108" alt="image" src="https://github.com/user-attachments/assets/300bec35-59bc-4eab-8454-3c2263112772" />

# MDC Recommendations 
<img width="1116" alt="image" src="https://github.com/user-attachments/assets/8c248e1e-b0b6-4091-a540-63230b9b31c1" />

# Microsoft Cloud Security Benchmark (MCSB)
The Microsoft Cloud Security Benchmark (MCSB) is a comprehensive, multi-cloud security framework published by Microsoft. Its primary purpose is to provide prescriptive best practices and recommendations to help organizations improve the security posture of their workloads, data, and services deployed in cloud environments.

<img width="1085" alt="image" src="https://github.com/user-attachments/assets/7154b15e-7511-4644-9b4c-7024bd57aa41" />

<img width="1243" alt="image" src="https://github.com/user-attachments/assets/74900b88-1241-4f74-9778-4b3ebd87f8cf" />

# Change one subscription to another tenant
![image](https://github.com/xiongye77/azure/assets/36766101/56af1322-d5c3-4af9-a774-192b7acb76b2)

# Azure AD Custom Domains
![image](https://user-images.githubusercontent.com/36766101/224464456-66c7d8e9-ba7a-42bd-837b-5b5d068450bb.png)
![image](https://github.com/xiongye77/azure/assets/36766101/ea64f986-fef5-4d35-a07a-0ec9c1edd411)
![image](https://github.com/xiongye77/azure/assets/36766101/eb6e171a-328d-4f60-b54b-3474dee876ec)
![image](https://github.com/xiongye77/azure/assets/36766101/2cd6f384-a127-4f44-9a59-1abcd3be97f6)

# Azure User Assigned Identity
![image](https://github.com/xiongye77/azure/assets/36766101/aef0fa45-9dcd-4c86-8923-82d6a0e5259b)
![image](https://github.com/xiongye77/azure/assets/36766101/420b2368-802e-47ef-8a8a-5a70f7a49511)

![image](https://github.com/xiongye77/azure/assets/36766101/81aef1b6-10ec-40ac-835a-c4010d919a84)

# Azure Entra ID Groups
![image](https://github.com/xiongye77/azure/assets/36766101/d68b095c-6551-428f-9b44-04719d08ce78)


# What is Azure AD Tenant
An Azure AD tenant provides identity and access management (IAM) capabilities to applications and resources used by your organization. An identity is a directory object that can be authenticated and authorized for access to a resource. Identity objects exist for human identities such as students and teachers, and non-human identities like classroom and student devices, applications, and service principles.

The Azure AD tenant is an identity security boundary that is under the control of your organizationâs IT department. Within this security boundary, administration of objects (such as user objects) and configuration of tenant-wide settings are controlled by your IT administrators.


![image](https://user-images.githubusercontent.com/36766101/217786909-193b9f80-9210-44ae-8c80-33124f0b0d40.png)

![image](https://user-images.githubusercontent.com/36766101/217776048-24322cdb-82ad-4b51-aeac-8e14ca48bd2f.png)
![image](https://user-images.githubusercontent.com/36766101/217776773-a40f28f8-1a95-430d-8036-198e108783c9.png)
![image](https://user-images.githubusercontent.com/36766101/217777705-90784a32-8773-49cc-b713-2e144c6b68fa.png)
![image](https://user-images.githubusercontent.com/36766101/217781902-c90895e1-852e-467d-a2f3-23bc6bbfc27e.png)
![image](https://user-images.githubusercontent.com/36766101/217786625-39081d25-cc1f-4b3d-8d13-782867079b62.png)
![image](https://user-images.githubusercontent.com/36766101/218003003-ce2bb356-93b2-4d8b-9979-3530505d2ae1.png)
![image](https://user-images.githubusercontent.com/36766101/218003796-2a78237a-d5e8-41a6-8f83-95cb2ce317b4.png)



![image](https://user-images.githubusercontent.com/36766101/217737192-cdaf8910-9226-4e67-9d8c-fbfaf4ac82e4.png)
![image](https://user-images.githubusercontent.com/36766101/217737568-4edcb7bc-e23b-491a-9fbf-1d500a8713b0.png)

![image](https://user-images.githubusercontent.com/36766101/217738798-5f0ed9fc-172a-4c44-b28c-d094bca5ed36.png)
![image](https://user-images.githubusercontent.com/36766101/217738888-6afccc19-7b4c-416b-ad2b-7de69bfbaeb0.png)
![image](https://user-images.githubusercontent.com/36766101/217741446-fa292fa3-210f-4856-80a7-e46fe744ec99.png)
![image](https://user-images.githubusercontent.com/36766101/217742742-150f2b14-5992-4ec2-b4a3-f7079e9a2e61.png)
![image](https://user-images.githubusercontent.com/36766101/217743350-aee6593d-36de-42d6-bea8-87c9a19ab3f0.png)
![image](https://user-images.githubusercontent.com/36766101/217744579-2b45c806-3df5-4d7b-acbe-9740bb5a4d5b.png)
![image](https://user-images.githubusercontent.com/36766101/217745897-e59a1087-f86a-4463-926e-1f368fb042cf.png)




![image](https://user-images.githubusercontent.com/36766101/217773251-99805671-277a-4653-ab04-05218ace9746.png)


![image](https://user-images.githubusercontent.com/36766101/217687213-1e064797-72ca-45dd-9962-97f3ab7a5527.png)
![image](https://user-images.githubusercontent.com/36766101/217687499-8b928565-8f10-429d-8002-18f6b635932f.png)


![image](https://user-images.githubusercontent.com/36766101/217688661-06097d82-1c85-4119-b7d0-2d89082d970f.png)
![image](https://user-images.githubusercontent.com/36766101/217694298-17ca7eeb-195f-4feb-bf96-d943c3af36ba.png)

![image](https://user-images.githubusercontent.com/36766101/217695649-eb80e862-9d24-4c71-9c11-efaf6408075c.png)


![image](https://user-images.githubusercontent.com/36766101/217695922-783c07ed-4340-4f4a-bf8e-29933bbdf0a9.png)

![image](https://user-images.githubusercontent.com/36766101/217696459-52b57ed2-b208-4927-872e-beb204daf462.png)

![image](https://user-images.githubusercontent.com/36766101/217720081-9990e015-3b0b-4f8b-a95d-7a09e1d0c31e.png)

![image](https://user-images.githubusercontent.com/36766101/217718425-89ee990e-71ac-4084-8c5e-f8c69a98fbc9.png)

![image](https://github.com/xiongye77/azure/assets/36766101/216e6ff7-9b55-4306-a0ac-078ddde203a0)

# Entra ID User Identities
![image](https://github.com/xiongye77/azure/assets/36766101/b8af00f3-8930-4358-a3ec-5d011db8a08c)

# Register Application in Entra ID
![image](https://github.com/xiongye77/azure/assets/36766101/ef21a153-1509-4a80-bb19-072b6cf415ae)

# Azure grant resource group reader access to service principle
![image](https://github.com/xiongye77/azure/assets/36766101/76fffa4a-aacd-4bbd-938b-af218dd3536c)

# Azure two queue solution, storage account queue and service bus queue

![image](https://user-images.githubusercontent.com/36766101/218024619-0c2bbbca-ce71-4e3d-b6c6-07021d835ecd.png)
![image](https://github.com/xiongye77/azure/assets/36766101/35c45f0a-b0f0-464a-980c-550e8b1a930e)
![image](https://github.com/xiongye77/azure/assets/36766101/d819be0b-1a91-4b54-83c9-ed7a28872879)


# Azure AD signin and audit logs
![image](https://user-images.githubusercontent.com/36766101/224466098-a82c40b3-b69d-4edb-9d97-5adbd3f0c7f3.png)


# Azure Event Grid vs Event Hub vs Service Bus
![image](https://user-images.githubusercontent.com/36766101/218040662-7e134318-0e45-4015-82a0-6c9b13e5aba3.png)
![image](https://user-images.githubusercontent.com/36766101/218052323-a6e8bf5c-f077-4e5a-8892-4c06920e8cd9.png)

![image](https://github.com/xiongye77/azure/assets/36766101/7f30a593-bc74-4eb2-8112-e38e6ec10d41)
![image](https://github.com/xiongye77/azure/assets/36766101/a869339b-ec5d-452e-839f-53e16ad56d36)
![image](https://github.com/xiongye77/azure/assets/36766101/6864467f-0882-4c7a-a89f-e380b6454278)

![image](https://github.com/xiongye77/azure/assets/36766101/90093624-9d6a-4d54-82e6-b88df4155c3e)
![image](https://github.com/xiongye77/azure/assets/36766101/f3df6c01-54b1-4128-aecd-066284fae7e9)
![image](https://github.com/xiongye77/azure/assets/36766101/a6fddf9a-1c19-4d98-9560-a05c604f1241)
![image](https://github.com/xiongye77/azure/assets/36766101/eb14f47f-816f-4a0f-b926-b4d6ebfa336c)
![image](https://github.com/xiongye77/azure/assets/36766101/34a88b8a-6714-449e-abe9-4768af2f58b8)
![image](https://github.com/xiongye77/azure/assets/36766101/37eda920-da9b-4163-b118-861ae6c64969)

![image](https://github.com/xiongye77/azure/assets/36766101/b5b1c34e-7269-4a41-9f96-ce0e5aa833ef)


# Azure Event Grid
![image](https://github.com/xiongye77/azure/assets/36766101/73aa39da-715e-4b5a-8b32-7bf3ac75873c)

![image](https://user-images.githubusercontent.com/36766101/218061223-b4a84512-26c9-4cb7-8142-e7e35578037c.png)
![image](https://user-images.githubusercontent.com/36766101/218061382-bda6f428-3998-4560-b317-1de38974691f.png)
![image](https://user-images.githubusercontent.com/36766101/218025269-882324c7-d25e-41de-bc07-29a916ba909e.png)
![image](https://github.com/xiongye77/azure/assets/36766101/66825cbf-7ac8-4192-a26f-79483ad39c39)

# Azure CDN

![image](https://user-images.githubusercontent.com/36766101/218064278-9702cb45-177f-4813-b132-db1a2799d316.png)


# Azure API Management
![image](https://github.com/xiongye77/azure/assets/36766101/09d0f1af-22ed-4df5-ac5f-681cba5ae753)
![image](https://github.com/xiongye77/azure/assets/36766101/3458fab5-f569-4c56-8097-7672728be870)


internal mode
![image](https://user-images.githubusercontent.com/36766101/218082600-2cd8f1be-7a53-4d4f-b6c4-9ddae815d4a7.png)


external mode
![image](https://user-images.githubusercontent.com/36766101/218082642-1ee0b9e3-247d-4906-b976-44778f354931.png)


![image](https://github.com/xiongye77/azure/assets/36766101/05629dd5-40ba-4e94-8734-ca3aed1374ea)


# OAuth2 (Open Authorization) workflow
OAuth2 is a standard designed to allow a website or application to access resources hosted by other web apps on behalf of a user.OAuth 2.0 is an authorization protocol and NOT an authentication protocol. As such, it is designed primarily as a means of granting access to a set of resources, for example, remote APIs or user data.

OAuth 2.0 uses Access Tokens. An Access Token is a piece of data that represents the authorization to access resources on behalf of the end-user. OAuth 2.0 doesnât define a specific format for Access Tokens. However, in some contexts, the JSON Web Token (JWT) format is often used. 
![image](https://user-images.githubusercontent.com/36766101/218095716-3ce416d0-2d76-4da5-98ed-ef2ce72c83ae.png)



Grant limited access to Azure Storage resources using shared access signatures (SAS), it is similar to AWS S3 pre-signed URL.
Both of those features allow anyone (with whom shared link was shared) to download or upload a file. This feature is very useful when you want to temporary share a file with some user(s) or to allow them to upload a file, without sharing your credentials (temporary creds, creating an account, etc).


# Azure Files

![image](https://user-images.githubusercontent.com/36766101/218239041-00a549d4-554a-47f9-bee2-1516501a3e50.png)

One fundamental building block of Microsoftâs Azure storage services is Storage Accounts, which are top-level resources that represent a shared pool of storage. These resources offer table, queue, and blob storage for an applicationâs persistent storage requirements.Azure files allowing access to file storage with the Server Message Block (SMB) and Network File System (NFS) protocols used in traditional file system infrastructure.

![image](https://user-images.githubusercontent.com/36766101/218239834-3aae7dc6-ab93-4f4d-97c2-f63c9f6966f5.png)

Organizations looking to utilize Azure Files at the enterprise scale can use Azure File Sync to cache data on the Local Area Network (LAN), reduce latency, and improve user experience
![image](https://user-images.githubusercontent.com/36766101/218374561-458ee0a3-ace1-4a47-81a0-444c9a9700e0.png)


# Azure Backup service

On-premises - Back up files, folders, system state using the Microsoft Azure Recovery Services (MARS) agent. Or use the DPM or Azure Backup Server (MABS) agent to protect on-premises VMs (Hyper-V and VMware) and other on-premises workloads
Azure VMs - Back up entire Windows/Linux VMs (using backup extensions) or back up files, folders, and system state using the MARS agent.
Azure Managed Disks - Back up Azure Managed Disks
Azure Files shares - Back up Azure File shares to a storage account
SQL Server in Azure VMs - Back up SQL Server databases running on Azure VMs
SAP HANA databases in Azure VMs - Backup SAP HANA databases running on Azure VMs
Azure Database for PostgreSQL servers - Back up Azure PostgreSQL databases and retain the backups for up to 10 years
Azure Blobs - Overview of operational backup for Azure Blobs


# Azure virtual network
![image](https://user-images.githubusercontent.com/36766101/218245613-2551e44e-ee30-4203-8a30-6078e20460a3.png)
A NAT gateway can be attached to multiple subnets within a virtual network to provide outbound connectivity to the internet. When a NAT gateway is attached to a subnet, it assumes the default route to the internet. The NAT gateway will then be the next hop type for all outbound traffic destined to the internet.
Virtual Network NAT gateway is a fully managed and highly resilient Network Address Translation (NAT) service. Virtual Network NAT gateway simplifies outbound Internet connectivity for virtual networks. When configured on a subnet, all outbound connectivity uses the Virtual Network NAT gayeway's static public IP addresses.


# Azure network best practice
1 Control public IP addresses,Public IP addresses in Azure can be associated with VMs, load balancers, application gateways, and VPN gateways.A better practice is to put VMs behind Azure Load Balancer or Azure Application Gateway. 

2 Use application security groups,Application Security Groups helps to manage the security of Virtual Machines by grouping them according the applications that runs on them. It is a feature that allows the application-centric use of Network Security Groups.ASGs are used within a NSG to apply a network security rule to a specific workload or group of VMs.
![image](https://github.com/xiongye77/azure/assets/36766101/fcbc4096-d763-4c70-a6f7-96a7fe6ebd2e)

![image](https://user-images.githubusercontent.com/36766101/218248348-4114be25-e09d-4fb3-8d98-a758ace34d53.png)
![image](https://user-images.githubusercontent.com/36766101/218249082-e59de4df-81a1-4ba7-96a9-55a8720c397d.png)

Application Security Groups (ASG) are a feature within Azure that helps simplify the management of Network Security Group (NSG) rules. ASGs can be used to group related applications together and manage their security together.

For example, you could create an ASG for all your web applications and another ASG for all your database applications. You can then add NSG rules to the ASGs that apply to all the applications within that group. This makes it easy to manage the security for all your applications at once.
![image](https://github.com/xiongye77/azure/assets/36766101/e4ca39c6-da26-4a39-80bf-109fc2c1f17a)

3 Secure north/south and east/west traffic.To secure virtual networks, consider attack vectors. Note the following points:
Using only subnet NSGs simplifies your environment, but only secures traffic into your subnet. This traffic is known as north/south traffic.
Traffic between VMs on the same subnet is known as east/west traffic.

4 Filter virtual network traffic with NSGs,Network security groups (NSGs) contain multiple inbound and outbound security rules that filter traffic going to and from resources. Filtering can be by source and destination IP address, port, and protocol.

5 Implement an Azure perimeter network.Although Microsoft invests heavily in protecting the cloud infrastructure, you must also protect your cloud services and resource groups. A multilayered approach to security provides the best defense. Putting a perimeter network in place is an important part of that defense strategy.

6 Optimize ExpressRoute routing with BGP communities,When you have multiple ExpressRoute circuits, you've got more than one path to connect to Microsoft. As a result, suboptimal routing can happen and your traffic might take a longer path to reach Microsoft, and Microsoft to your network. The longer the network path, the higher the latency.

7 Implement ExpressRoute for mission-critical connections.The Azure ExpressRoute service extends your on-premises infrastructure into the Microsoft cloud. ExpressRoute creates private connections between the virtual Azure datacenter and on-premises networks.

8 Implement Azure Virtual WAN for branch offices,For multiple VPN connections, Azure Virtual WAN is a networking service that provides optimized and automated, branch-to-branch connectivity through Azure.

9 Implement a highly available Site-to-Site VPN

10 Implement a hub and spoke network topology,
![image](https://user-images.githubusercontent.com/36766101/218247752-ebd3d9cd-e62c-4804-8e21-47c46bc686a2.png)
A hub and spoke network topology isolates workloads while sharing services, such as identity and security. The hub is an Azure virtual network that acts as a central point of connectivity. The spokes are virtual networks that connect to the hub virtual network by using peering. Shared services are deployed in the hub, while individual workloads are deployed as spokes.

11 Design subnets,To provide isolation within a virtual network, you segment it into one or more subnets, and give a portion of the virtual network's address space to each subnet.By default, Azure routes network traffic between all subnets in a virtual network.Your subnet decisions are based on your technical and organizational requirements.You create subnets by using CIDR notation

12 Set up a DNS server
Azure adds a DNS server by default when you deploy a virtual network. You can use this server to rapidly build virtual networks and deploy resources. But this DNS server only provides services to the resources on that virtual network. To connect multiple virtual networks together, you need more name resolution capabilities. You'll also need these capabilities to connect to an on-premises server from virtual networks. For example, you might need Active Directory to resolve DNS names between virtual networks. To resolve the DNS names, deploy your own custom DNS server in Azure


13 Deploy Azure Firewall
![image](https://user-images.githubusercontent.com/36766101/218254964-0fd5e192-76e8-4650-a1a6-3056f6457180.png)
Azure Firewall is a cloud-native and intelligent network firewall security service that provides the best of breed threat protection for your cloud workloads running in Azure.
Azure Firewall is offered in three SKUs: Standard, Premium, and Basic.

Azure Firewall Standard provides L3-L7 filtering and threat intelligence feeds directly from Microsoft Cyber Security. Threat intelligence-based filtering can alert and deny traffic from/to known malicious IP addresses and domains which are updated in real time to protect against new and emerging attacks.

Azure Firewall Premium provides advanced capabilities including signature-based IDPS to allow rapid detection of attacks by looking for specific patterns. These patterns can include byte sequences in network traffic, or known malicious instruction sequences used by malware.

Azure Firewall Basic is intended for small and medium size (SMB) customers to secure their Azure cloud environments. It provides the essential protection SMB customers need at an affordable price point.

14 Deploy Web Application Firewall,
![image](https://user-images.githubusercontent.com/36766101/226098777-5fdfd4ba-e8d6-4b8a-8822-d8ea324f6e6c.png)

![image](https://user-images.githubusercontent.com/36766101/218256149-fb0e4037-6b78-4b1a-b011-9cae74eb5641.png)

![image](https://user-images.githubusercontent.com/36766101/218257069-15adf8dc-a0de-468b-975b-11d3b98c1e89.png)
![image](https://user-images.githubusercontent.com/36766101/218257087-c5655583-4bb4-4610-8bdb-ee47d20bf690.png)

Web applications are increasingly targets of malicious attacks that exploit commonly known vulnerabilities. Exploits include SQL injection attacks and cross-site scripting attacks. Preventing such attacks in application code can be challenging. 

15 Implement Network Watcher,Network Watcher provides tools to monitor resources and communications in an Azure virtual network. For example, you can monitor communications between a VM and an endpoint, such as another VM or FQDN. You can also view resources and resource relationships in a virtual network, or diagnose network traffic issues.

16 Use private link service
Azure Private Link enables customers to access Azure PaaS services and Azure-hosted customer/partner services from a virtual network, improving network security and reducing network latency.By eliminating internet-bound traffic, customers can reduce data egress charges associated with accessing Azure PaaS services and Azure-hosted customer/partner services.
![image](https://user-images.githubusercontent.com/36766101/218296256-aac0fa4e-a364-434e-bfa1-5cfeab8294f8.png)
![image](https://user-images.githubusercontent.com/36766101/218450803-300a5d90-4ed7-4a40-9eab-5b7fe84a8add.png)
![image](https://user-images.githubusercontent.com/36766101/218444901-312ab9af-7a3f-4a55-8c30-96e141ef9972.png)
![image](https://user-images.githubusercontent.com/36766101/218451428-d3e8d1f9-dc4c-4109-b5cb-347e6f26de54.png)


# Azure Front Door
![image](https://user-images.githubusercontent.com/36766101/223056882-12014274-2da1-46ab-a935-2f093b417faa.png)
![image](https://user-images.githubusercontent.com/36766101/223075390-e60fa355-aee7-4fd8-b7e5-7c16b45a07ed.png)
![image](https://user-images.githubusercontent.com/36766101/223075627-b269ac21-980c-4787-94a5-956f2fb38e50.png)
![image](https://github.com/xiongye77/azure/assets/36766101/b0b94b6e-f393-4a41-b5bf-79c9bb01417a)
![image](https://github.com/xiongye77/azure/assets/36766101/cd370dd8-de2b-4087-9547-4faf0dc565c5)

Azure Front Door is a global, highly available, and scalable service offered by Microsoft Azure that routes incoming traffic to your backends.
It is designed to improve the performance and availability of your web applications and services. It does this by providing a global network of points of presence (POPs) that can be used to route traffic to the closest available backend.
Front Door service supports various features including load balancing, custom routing, SSL offloading, and caching. It also provides a Web Application Firewall (WAF) that can be used to protect your web applications and services from various types of attacks.
Front Door service is designed to work with other Azure services such as Azure Virtual Machines, Azure App Service, and Azure Container Instances. It can also be used with non-Azure backends such as on-premises servers or other cloud-based services.

# Azure WAF 
OWASP identifies the "what" and "why": It provides the industry-recognized list of common web application vulnerabilities that organizations should be concerned about.
# Examples of OWASP Top 10 vulnerabilities include:

Injection (e.g., SQL Injection, Cross-Site Scripting - XSS)

Broken Access Control

Cryptographic Failures

Security Misconfiguration

Vulnerable and Outdated Components

Server-Side Request Forgery (SSRF)
<img width="1541" alt="image" src="https://github.com/user-attachments/assets/7e8a1cd1-2d81-46b3-ba83-73e96ebf1e69" />
WAF provides a "how" for mitigation: It's a tool (a web application firewall) that you can deploy to protect your applications against many of the attacks described in the OWASP Top 10. Specifically, its managed rule groups are explicitly designed with the OWASP Top 10 in mind.
<img width="1096" alt="image" src="https://github.com/user-attachments/assets/2c8dfa79-2865-40c8-b52f-4ea7cc6dba78" />
<img width="1611" alt="image" src="https://github.com/user-attachments/assets/11aa78bf-e0d7-429d-b950-3585e928b7ac" />

# Azure Traffic Manager
Azure Traffic Manager is a Azure service that allows you to distribute traffic across multiple A Service Endpoint remains a publicly routable IP address. A Private Endpoint is a private IP in the address space of the virtual network where the private endpoint is configured.s, such as Azure VMs, web apps, and Azure Cloud Services.
It uses a variety of routing methods, including priority, weight, and geographic, to determine how traffic is directed to the different endpoints.
Traffic Manager can help improve the availability and performance of your applications by directing traffic to the closest or most available endpoint.
It can also be used to perform A/B testing and canary deployments, allowing you to test new versions of your application before rolling them out to all users.


# Azure Cosmos DB
Azure Cosmos DB is a fully managed NoSQL and relational database for modern app development.
Azure Cosmos DB offers single-digit millisecond response times, automatic and instant scalability, along with guarantee speed at any scale. 
Cosmos DB is a database service that is globally distributed. It allows you to manage your data even if you keep them in data centers that are scattered throughout the world. 
It provides the tools you need to scale both global distribution pattern and computational resources, and these tools are provided by Microsoft Azure.
![image](https://github.com/xiongye77/azure/assets/36766101/e250f7fd-4b44-4763-8215-dc8e350f00d8)



![image](https://github.com/xiongye77/azure/assets/36766101/4167bc33-8de2-4bee-85c5-9183ab07ffe4)

![image](https://user-images.githubusercontent.com/36766101/218296778-6782e14c-a878-4001-85a0-cf4e813faf82.png)
![image](https://user-images.githubusercontent.com/36766101/218296849-badaaec4-1b2b-4f7e-b341-60e147ccf5be.png)
![image](https://github.com/xiongye77/azure/assets/36766101/2401b72e-bb86-430b-9936-9b0f2de57d17)
![image](https://github.com/xiongye77/azure/assets/36766101/875b3487-bb62-4607-8c5b-34b41ca36a21)
![image](https://github.com/xiongye77/azure/assets/36766101/6298449b-1e46-4b24-91c9-74851eaa7b9e)
![image](https://github.com/xiongye77/azure/assets/36766101/314658ac-08fd-4d99-9e0b-ed777aa5ecdb)
![image](https://github.com/xiongye77/azure/assets/36766101/d73c313c-d92e-4510-ae21-75bc94eabadf)
![image](https://github.com/xiongye77/azure/assets/36766101/339c96e8-f2a6-45e8-94f9-e561af691254)
![image](https://github.com/xiongye77/azure/assets/36766101/2008bbcc-7545-4acd-826d-6969ba5e2c10)


# Azure Monitor
![image](https://user-images.githubusercontent.com/36766101/218302991-e59e05c4-b99c-4d10-a60f-dbd784e82d7e.png)
![image](https://user-images.githubusercontent.com/36766101/218303525-f464265d-16bc-40aa-a39c-bd7a09c4fb26.png)
![image](https://github.com/xiongye77/azure/assets/36766101/9031e62a-5360-4376-bf21-ad53213fd065)
![image](https://github.com/xiongye77/azure/assets/36766101/a8528e93-10f4-4b99-8549-ff2528f09944)
![image](https://github.com/xiongye77/azure/assets/36766101/f7ae4a49-d467-4242-b166-c7a6e100bd50)
![image](https://github.com/xiongye77/azure/assets/36766101/883ca43b-9b01-473f-91b6-7f96772dcd3b)
![image](https://github.com/xiongye77/azure/assets/36766101/def9390f-47a1-4e30-b32b-cb1fc65462d5)


Azure Monitor collects monitoring telemetry from a variety of on-premises and Azure sources. Management tools, such as those in Azure Security Center and Azure Automation, also push log data to Azure Monitor. 

The service aggregates and stores this telemetry in a log data store thatâs optimized for cost and performance. Analyze data, set up alerts, get end-to-end views of your applications, and use machine learningâdriven insights to quickly identify and resolve problems.

Azure Monitor helps you maximize the availability and performance of your applications and services. It delivers a comprehensive solution for collecting, analyzing, and acting on telemetry from your cloud and on-premises environments. This information helps you understand how your applications are performing and proactively identify issues that affect them and the resources they depend on.


Virtual Machine Scale Sets and Custom Script Extensions
Azure Virtual Machine Scale Sets let you create and manage a group of load balanced VMs. 
The number of VM instances can automatically increase or decrease in response to demand or a defined schedule. 
Scale sets provide the following key benefits:
1 Easy to create and manage multiple VMs
2 Provides high availability and application resiliency by distributing VMs across availability zones or fault domains
3 Allows your application to automatically scale as resource demand changes
4 Works at large-scale
The Custom Script Extension downloads and runs scripts on Azure virtual machines (VMs). 
This extension is useful for post-deployment configuration, software installation, or any other configuration or management task. You can download scripts from Azure Storage or GitHub, or provide them to the Azure portal at extension runtime.
The Custom Script Extension integrates with Azure Resource Manager templates. You can also run it by using the Azure CLI, PowerShell, the Azure portal, or the Azure Virtual Machines REST API.
![image](https://user-images.githubusercontent.com/36766101/218303296-74defb8d-7905-4be5-9803-66f092eb7218.png)




# Log Analytics Workspace
A Log Analytics Workspace is the environment for Azure Monitor log data.
Each workspace has its own data repository and configuration.
A workspace has a unique workspace ID and resource ID.
Same workspace name can be used within different resource groups.
It can be used to collect diagnostic or log data from Azure storage.

# VM Performance Diagnostics extenstions
![image](https://user-images.githubusercontent.com/36766101/218308342-20a2f80b-8ba4-42e6-a59c-b3652f6198eb.png)
![image](https://user-images.githubusercontent.com/36766101/218308447-8dcdb783-425d-4908-ba1d-8922defd7480.png)
![image](https://user-images.githubusercontent.com/36766101/218309243-267fb410-edb8-47a2-9400-488f5e0e89a2.png)
![image](https://user-images.githubusercontent.com/36766101/218309479-1f597840-a0c0-4b0b-9cd3-34f12d85dc45.png)
![image](https://user-images.githubusercontent.com/36766101/218310042-8bf3c7c4-71c1-4019-8747-2f56a10c6bb6.png)


Configure Log Analytics for a Virtual Machine
![image](https://user-images.githubusercontent.com/36766101/218340166-e25ad23d-fb9f-4c17-b45a-f32d99547cc5.png)

![image](https://user-images.githubusercontent.com/36766101/218342070-15a0605d-9134-43fd-be3d-f2c283ded61e.png)

Azure Monitor Agent (AMA) replaces the Log Analytics agent (also known as MMA and OMS) for both Windows and Linux machines, in both Azure and non-Azure (on-premises and third-party clouds) environments. It introduces a simplified, flexible method of configuring collection configuration called data collection rules (DCRs). This article outlines the benefits of migrating to Azure Monitor Agent and provides guidance on how to implement a successful migration.

# Azure Monitor Data Collection Rule
![image](https://github.com/xiongye77/azure/assets/36766101/a4e823ea-741d-46f4-978a-860b4ef29eb1)
![image](https://github.com/xiongye77/azure/assets/36766101/744a9d87-4cbf-4407-8814-db408f502cc5)
![image](https://github.com/xiongye77/azure/assets/36766101/03333ea5-4447-41b4-a70a-9ceb946b0720)
![image](https://github.com/xiongye77/azure/assets/36766101/75fbd95a-c074-4939-908e-f7ed4bd8c1e0)
![image](https://github.com/xiongye77/azure/assets/36766101/e189fe01-9412-4c06-ab9b-4bfde44c1acf)


# Azure Virtual Network NAT
![image](https://user-images.githubusercontent.com/36766101/218416502-a98fc384-b008-4bd0-8718-9882a70bdba0.png)

![image](https://user-images.githubusercontent.com/36766101/218414168-90456c8b-92b2-4f0e-9678-98b2bd7736c2.png)

![image](https://user-images.githubusercontent.com/36766101/223007800-45220716-8d0e-4434-a578-212cffb7288e.png)

# az storage account keys list
CDN origin is storage account 
![image](https://user-images.githubusercontent.com/36766101/218644543-4ab7dfd9-b232-46ec-956d-78a8534f447e.png)
![image](https://user-images.githubusercontent.com/36766101/218641847-8ccdf4c5-0145-4642-b7d4-6547d2f7b0cb.png)
![image](https://user-images.githubusercontent.com/36766101/218642009-ed5ae5fd-7f75-4e05-a078-b1b159100798.png)

# Azure Cosmos DB
![image](https://user-images.githubusercontent.com/36766101/222858582-201c4f63-c81f-47b1-908c-e97c49fc6e78.png)
![image](https://user-images.githubusercontent.com/36766101/222859725-2f3d88ef-08f3-466f-b65c-b4f77a3d2e9e.png)


# Azure SQL Server
<img width="1165" alt="image" src="https://github.com/user-attachments/assets/7e8535ae-5278-4295-9ce3-48f0256c8871" />

![image](https://github.com/xiongye77/azure/assets/36766101/8002cb0b-e0f2-46be-b2f1-ba15bee2e3cf)
![image](https://github.com/xiongye77/azure/assets/36766101/b713c182-d26b-4e54-872f-3df09f895a93)
![image](https://github.com/xiongye77/azure/assets/36766101/232a44d2-22cd-40b3-8941-6a69cb13bb4d)

![image](https://user-images.githubusercontent.com/36766101/222857649-a26def25-12db-4783-b396-ce3fb4da95ab.png)
![image](https://user-images.githubusercontent.com/36766101/222876563-d4917e08-0266-41c0-9f4c-5d13b57721f7.png)
![image](https://github.com/xiongye77/azure/assets/36766101/4823daa0-2326-4f60-b38a-11d819ba1030)
![image](https://github.com/xiongye77/azure/assets/36766101/6167138e-dc9d-4eeb-9ff2-19d7e53b00b0)

Purchase Models
![image](https://user-images.githubusercontent.com/36766101/222857979-eb6c80e3-5643-4ac7-ae06-f7fdc3464b5c.png)
![image](https://user-images.githubusercontent.com/36766101/222860733-2feb58ed-f2d2-4519-9674-5809dc7e785c.png)

Service Tiers
![image](https://user-images.githubusercontent.com/36766101/222858078-de17812a-714d-4b9a-a3a7-e3699b0c8668.png)
![image](https://user-images.githubusercontent.com/36766101/218712534-7ac6623b-9dc8-4648-880e-66eff2a4527f.png)
![image](https://github.com/xiongye77/azure/assets/36766101/5c703306-ae4a-478f-9acc-bcd689027907)
![image](https://github.com/xiongye77/azure/assets/36766101/9e00bcfe-99c6-4e2a-ba24-be208f25d476)

root@linuxvm:~# dig  sqlservererty.database.windows.net

; <<>> DiG 9.16.1-Ubuntu <<>> sqlservererty.database.windows.net
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 48458
;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 65494
;; QUESTION SECTION:
;sqlservererty.database.windows.net. INA

;; ANSWER SECTION:
sqlservererty.database.windows.net. 143IN CNAME sqlservererty.privatelink.database.windows.net.
sqlservererty.privatelink.database.windows.net.1643 INA 10.0.1.4

;; Query time: 0 msec
;; SERVER: 127.0.0.53#53(127.0.0.53)
;; WHEN: Tue Feb 14 10:34:37 UTC 2023
;; MSG SIZE  rcvd: 119

![image](https://user-images.githubusercontent.com/36766101/222949785-f287abe2-f127-462e-9e2e-59f47f91455b.png)

![image](https://user-images.githubusercontent.com/36766101/222950420-2013bba6-40e4-4cdf-ae2e-1f4a21c55734.png)

# SQL Server Continuity Solutions

![image](https://github.com/xiongye77/azure/assets/36766101/64864a5e-f633-46c7-8f42-2fa9861c7180)


# Azure SQL Transparent Data Encryption
![image](https://user-images.githubusercontent.com/36766101/222878368-fa26ff4f-b7d9-4315-88c0-4fa8d22eada2.png)
![image](https://user-images.githubusercontent.com/36766101/222878403-8d2129da-18e1-4e3c-a72d-5d646f38dde4.png)
<img width="1171" alt="image" src="https://github.com/user-attachments/assets/bc413d14-954d-4243-9d25-1c2971ee1ffa" />
<img width="1153" alt="image" src="https://github.com/user-attachments/assets/58052974-0c4f-47c2-b3f1-ec8e37981e6b" />
<img width="1146" alt="image" src="https://github.com/user-attachments/assets/e8f1fd5e-c835-4866-9e61-0385c048fe0e" />

# Azure Disk Encryption
![image](https://user-images.githubusercontent.com/36766101/226148010-f8a2be14-7e28-4db7-a1ec-b78ba88a3b15.png)
![image](https://user-images.githubusercontent.com/36766101/226148132-6b999e83-de82-4018-92bf-f4a4ef8cf068.png)
![image](https://user-images.githubusercontent.com/36766101/226148201-5bc0544a-c2c7-42c9-b3c4-1acbea8cc892.png)

# Azure VM update
![image](https://user-images.githubusercontent.com/36766101/226149631-2ede2672-d62e-4695-8aab-c9772dea0cc3.png)
![image](https://user-images.githubusercontent.com/36766101/226149837-f66f3385-5df7-4ba4-8f5f-ea73d89ad65c.png)
![image](https://user-images.githubusercontent.com/36766101/226149962-430a91aa-4a44-4208-b13e-5966332b902a.png)

# Azure SQL Always Encrypted and Dynamic Mask
![image](https://github.com/xiongye77/azure/assets/36766101/7cc186de-c16a-4b08-8db5-01daf532cab4)
![image](https://github.com/xiongye77/azure/assets/36766101/43bb46f7-5d7b-41ac-bf21-535cb614d27d)
![image](https://github.com/xiongye77/azure/assets/36766101/018de68c-68c6-4988-9404-8c3b684beadf)
![image](https://github.com/xiongye77/azure/assets/36766101/29dc4637-d124-4837-934b-1350fa94836b)

![image](https://user-images.githubusercontent.com/36766101/222878676-b6c597a4-a17a-4518-a854-df9b19422fc5.png)
![image](https://user-images.githubusercontent.com/36766101/222878791-c345557d-e35d-4856-bb48-8cdd7b78eca4.png)
![image](https://github.com/xiongye77/azure/assets/36766101/3548c207-0217-45ab-9033-d2d74ea7af34)
![image](https://github.com/xiongye77/azure/assets/36766101/f39326f1-1cf9-4594-a516-6771a33b5d93)

# Azure VM endpoint protection
![image](https://user-images.githubusercontent.com/36766101/226147539-c522e38e-9afc-4ee9-b598-378d82e232b8.png)
![image](https://user-images.githubusercontent.com/36766101/226147569-23f8b85b-5e85-40ec-bd6b-2a486ff94d9a.png)

![image](https://user-images.githubusercontent.com/36766101/226147472-0aff62bf-905e-4c37-ba96-fe222989106c.png)

![image](https://user-images.githubusercontent.com/36766101/226147452-0c1881b6-e54a-4566-b4f1-c1d33ae5d42c.png)
![image](https://user-images.githubusercontent.com/36766101/226147865-f41a1d9e-f603-4c01-a6d6-4b5c3bea68b6.png)


Azure Active Directory (AD) can play a crucial role in not only user management, but also with application security for Azure-based solutions. When an application is registered in Azure AD and provided a service principal, it can be used to securely access other Azure resources that support Azure AD authentication.
![image](https://user-images.githubusercontent.com/36766101/219020463-72980448-f799-400c-9812-7135341b9226.png)


# Azure Key Vault
Azure Key Vault allows the users to instantly store and access the sensitive information in a secured manner.
This cloud service acts as a single central storage for all the secured information which the users can retrieve using specific permissions.
The secured information can be in the form of passwords, certificates, API or cryptographic keys.

There are multiple ways to authorize your app to retrieve the certificate from Azure Key Vault. 


If your app is running within Azure, you can use Managed Service Identities.(https://learn.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/overview)
In all cases, you can use a Service Principal; in the OAuth2 specs, this is called "Client credentials grant", or more colloquially "Machine-to-Machine flow".

![image](https://user-images.githubusercontent.com/36766101/222873637-73530c31-5b07-43ea-9ba3-148e57069bf3.png)

Key vault can be accessed by selected Service Principle
![image](https://github.com/xiongye77/azure/assets/36766101/825becc1-ee3a-407c-aabd-1eeb228c3caa)

![image](https://user-images.githubusercontent.com/36766101/222934845-d6240fe5-15da-4176-9228-be89f99287e5.png)

# Create a Resource Group
RESOURCE_GROUP="MyKeyVault"
LOCATION="WestUS2"
az group create   --name "$RESOURCE_GROUP"  --location "$LOCATION"

# Create a Key Vault
![image](https://user-images.githubusercontent.com/36766101/226144788-3bde3208-6f1c-4b0e-b972-07862ffbefd1.png)
![image](https://user-images.githubusercontent.com/36766101/226145111-bc75fce1-09d8-4b7b-a1d1-f72b425c714c.png)
![image](https://user-images.githubusercontent.com/36766101/226145318-10f3458b-931c-4101-9533-4d73dbe4fbf7.png)
![image](https://user-images.githubusercontent.com/36766101/226145487-37390fd9-9a50-4f3f-a49d-f4b9a7cb1416.png)
![image](https://user-images.githubusercontent.com/36766101/226145495-8c4637b8-9b96-4c5a-a871-c206502b95b5.png)

![image](https://user-images.githubusercontent.com/36766101/226145304-2f55f89a-267c-47e2-bcf9-4cab5237ea2b.png)

# The name must be globally unique
KEYVAULT_NAME="withblueink"
az keyvault create   --name "$KEYVAULT_NAME"  --resource-group "$RESOURCE_GROUP"   --location "$LOCATION"


To use a Service Principal:
# Create a Service Principal for an app called "KeyVaultSP"
az ad sp create-for-rbac --name "KeyVaultSP" --skip-assignment

AZURE_CLIENT_ID="f13db91b-2a02-4fbe-826d-5c9049d23561"
az keyvault set-policy   --name "$KEYVAULT_NAME"   --spn "$AZURE_CLIENT_ID"   --secret-permissions get   --certificate-permissions get list


Alternatives to Azure Key Vault are AWS Secrets Manager,AWS Systems Manager Parameter Store,Azure App Configuration,Hashicorp Vault
![image](https://user-images.githubusercontent.com/36766101/218969734-95e5dcb0-14a2-4d56-b207-25df4028c2e8.png)

![image](https://user-images.githubusercontent.com/36766101/218968241-0f271c59-3926-4a74-821b-b9e7c9bc5c0f.png)


# Azure Service Principle 
![image](https://user-images.githubusercontent.com/36766101/219226517-f2a35603-fd94-4534-803b-34aa25a4b3be.png)
![image](https://user-images.githubusercontent.com/36766101/219231041-2deb9291-93b0-44a4-9e79-3c91362ae62e.png)
![image](https://user-images.githubusercontent.com/36766101/226103544-fd3c0277-96fa-455f-9748-9cce56456355.png)
Authorization 
![image](https://user-images.githubusercontent.com/36766101/226103602-fbb260d9-ac7c-4a22-abaf-9cc35351bf47.png)

![image](https://user-images.githubusercontent.com/36766101/222663734-4c70ed17-da0a-4337-858a-ef61b155ae03.png)
![image](https://user-images.githubusercontent.com/36766101/222662695-7c734161-60bb-4c6b-bd43-99efe02fa780.png)

# Azure Managed Identity
![image](https://user-images.githubusercontent.com/36766101/222669253-7fbd5127-6fac-48ea-b6cb-3449a74693ff.png)
![image](https://user-images.githubusercontent.com/36766101/222669628-602f0b9d-854b-4ee2-a2d4-2f1817329070.png)
![image](https://user-images.githubusercontent.com/36766101/222670421-7f4dc36d-5d81-4f26-8b17-0c93beeddce9.png)
![image](https://user-images.githubusercontent.com/36766101/222670502-1e4c455f-df91-4831-bb4d-344fb568d8ee.png)
![image](https://user-images.githubusercontent.com/36766101/222671164-83de3814-ac92-49cd-98c5-11a43072f977.png)
![image](https://user-images.githubusercontent.com/36766101/222671200-a5702ad7-0969-477a-a7bf-0fd9078d0255.png)
![image](https://user-images.githubusercontent.com/36766101/222695024-2d010306-18f1-4e7c-a052-bbfa5ce34c32.png)
![image](https://user-images.githubusercontent.com/36766101/222696112-c10b6996-7605-4042-9ab4-821625e4ebe3.png)
![image](https://user-images.githubusercontent.com/36766101/222696713-86f5104e-5412-4b1c-8001-9accebe2b668.png)

![image](https://github.com/xiongye77/azure/assets/36766101/a92b2835-157d-4c87-85ca-99803f17567f)


# Azure Availability Set
![image](https://user-images.githubusercontent.com/36766101/219276779-5cf1a40a-4ddb-4e1c-aabf-c7d1062ae22c.png)
![image](https://user-images.githubusercontent.com/36766101/219277381-d1b99439-744f-44dc-a2ce-b8eba37710d4.png)
![image](https://user-images.githubusercontent.com/36766101/219277597-56cf4cfa-44e1-4620-b49e-ee9afbf41480.png)


# Azure Instance Metadata Service
![image](https://user-images.githubusercontent.com/36766101/219285367-fcef284b-8cbc-4633-be1a-c28cc1d43a8b.png)

# Azure App Service AutoScale 
![image](https://user-images.githubusercontent.com/36766101/219293487-6c87af96-53db-4506-a067-f1d82c360d89.png)
![image](https://github.com/xiongye77/azure/assets/36766101/3b296509-7501-4188-9fe0-b88b14ecb066)
![image](https://github.com/xiongye77/azure/assets/36766101/ec49347a-80ef-4719-936c-e67d68293bc4)


# Azure Vnet peering
![image](https://user-images.githubusercontent.com/36766101/219570155-d1d4b11b-f2e0-49d5-b6ce-b6b08caa0d12.png)


# Azure Network Watcher/Topology
![image](https://user-images.githubusercontent.com/36766101/219602753-f3132e86-89a4-4573-92ba-18b0c1a52425.png)
![image](https://github.com/xiongye77/azure/assets/36766101/fd2500eb-8a66-4358-898b-1c7e7caea875)
![image](https://github.com/xiongye77/azure/assets/36766101/072b7e78-2262-4ea5-8207-023050cc86e6)
![image](https://github.com/xiongye77/azure/assets/36766101/2b56f3f7-8d43-48ce-921e-0f6893a410e3)


# Azure Network Watcher/Connection Monitor
![image](https://user-images.githubusercontent.com/36766101/219603123-1ef950fa-5c74-451e-b2e3-7675d94515c3.png)
![image](https://github.com/xiongye77/azure/assets/36766101/349073fb-d5c1-43e9-aafc-9c8b153b6af6)
![image](https://github.com/xiongye77/azure/assets/36766101/60685d03-0299-48ab-b90e-9f8e9a50ec41)
![image](https://github.com/xiongye77/azure/assets/36766101/b6870404-5cd5-4226-afd8-0c7e4e0b1d59)
![image](https://github.com/xiongye77/azure/assets/36766101/c0e6f843-0e84-4add-8c37-a64181d14826)
![image](https://github.com/xiongye77/azure/assets/36766101/66a4f5b7-d5e6-46ee-9342-cdf99160bbcd)


# Azure Service Endpoint VS  Azure Private Link
![image](https://user-images.githubusercontent.com/36766101/219610103-214d6611-c3a9-4fbd-a647-4182235482f8.png)
![image](https://github.com/xiongye77/azure/assets/36766101/fd196123-9b51-4b2b-a037-afde473d68b8)
![image](https://github.com/xiongye77/azure/assets/36766101/a3b5cec4-4f67-4018-84cf-f6dee60257ce)
![image](https://github.com/xiongye77/azure/assets/36766101/8a062ece-e62d-45c0-9375-47a7e11c979f)
![image](https://github.com/xiongye77/azure/assets/36766101/1e0365ea-6d94-4214-9496-f9b7bc688de7)

A service endpoint provides secure and direct connectivity to Azure services using the Azure backbone network. When you enable a service endpoint for a subnet, it allows private IP addresses in the VNet to communicate or reach that particular resource type using the public IP of a resource.

Unlike a service endpoint, a private endpoint is a network interface that uses a private IP address from your virtual network. This will ensure no traffic leaves the virtual network and all the communication is private.

A Service Endpoint remains a publicly routable IP address. A Private Endpoint is a private IP in the address space of the virtual network where the private endpoint is configured. Create Servce Endpoint policy to control access specific resource.
![image](https://github.com/xiongye77/azure/assets/36766101/8eb34a88-f60a-49eb-8b29-fb37c28229d6)

![image](https://user-images.githubusercontent.com/36766101/226084733-57f066fa-aac8-4525-bb73-e49d20a8ec9f.png)
![image](https://user-images.githubusercontent.com/36766101/226084749-7b068ee8-7e8c-4731-a49b-93ff31a4f494.png)
![image](https://user-images.githubusercontent.com/36766101/226084869-6484139a-a044-4ea4-b081-c59e8aad9193.png)
![image](https://user-images.githubusercontent.com/36766101/226084918-663609bc-9e94-4401-9eeb-ae22d1549118.png)


![image](https://user-images.githubusercontent.com/36766101/223276743-5793068b-8208-4ae4-83ac-4cee9a17e675.png)
![image](https://user-images.githubusercontent.com/36766101/223276913-d7861077-301d-4676-8c20-96d5ca2017f9.png)
![image](https://user-images.githubusercontent.com/36766101/223277076-83202ca9-8452-49c7-bc81-e46db2dfcdc9.png)
![image](https://github.com/xiongye77/azure/assets/36766101/0a4b350e-07e5-4d51-8c3e-d5949b3ac682)
![image](https://github.com/xiongye77/azure/assets/36766101/a9f9ed06-c0f4-461e-9140-568831f71a8d)
![image](https://github.com/xiongye77/azure/assets/36766101/24d953d2-6cb6-4eae-b784-4225865dd086)
![image](https://github.com/xiongye77/azure/assets/36766101/9dcd0113-94de-48db-a35f-f9c7969deebf)
![image](https://github.com/xiongye77/azure/assets/36766101/f498d381-e303-44b7-9b00-84a6c0aac162)
![image](https://github.com/xiongye77/azure/assets/36766101/b82fd8bb-475b-4cd7-b17d-d689491cf33f)


# Azure App Service Managed identity
![image](https://github.com/xiongye77/azure/assets/36766101/1c71f81e-a0aa-4926-a0fc-cd9ac34d3af3)

# Azure App Service VNET Integration
![image](https://user-images.githubusercontent.com/36766101/219645655-09824569-2d0f-4858-a2e4-a73d28b4099e.png)
![image](https://user-images.githubusercontent.com/36766101/219655347-3e4cadf3-e121-43b3-90e0-1930e7cd1ff5.png)
![image](https://github.com/xiongye77/azure/assets/36766101/81952352-c7a1-4aea-9e43-d42042566bb4)

# Azure App Service access Key Vault using Managed Identity
![image](https://github.com/xiongye77/azure/assets/36766101/78c5b2fa-62f2-44ae-9ad8-06186f4cd843)

# Azure App Service Migration Assistant
![image](https://user-images.githubusercontent.com/36766101/219633154-6e1e1d65-7be2-450c-a3cf-f94b66ebd0a6.png)
![image](https://user-images.githubusercontent.com/36766101/219635121-052ffe76-fb6a-4aa9-9f49-b117fbc5809a.png)
![image](https://user-images.githubusercontent.com/36766101/219642026-fed64852-baf5-404f-b49a-95f6ee1855f5.png)

# Firewalls in Azure

![image](https://github.com/xiongye77/azure/assets/36766101/64720c8b-7c44-4344-9bd5-e668a63bbcdd)
![image](https://github.com/xiongye77/azure/assets/36766101/1c6bd029-afa3-479e-8192-5652031eed01)
![image](https://github.com/xiongye77/azure/assets/36766101/519fe0a7-2a6f-4942-85c7-5e7bdf6bd56f)
![image](https://github.com/xiongye77/azure/assets/36766101/cd6e2aef-89c4-4762-885a-d6d458bf050c)
![image](https://github.com/xiongye77/azure/assets/36766101/480ed920-361f-4ac6-b110-29e65be9cd03)
![image](https://github.com/xiongye77/azure/assets/36766101/a39c0762-3454-443d-9ea2-13d3845639a3)

# Azure NSG association with network interface or subnet
![image](https://github.com/xiongye77/azure/assets/36766101/1e27f7a4-8b78-4cf5-872a-a6368e74d4f3)


# Azure SQL options
![image](https://user-images.githubusercontent.com/36766101/219923387-973bfc08-62e9-4897-bd18-e62667715a95.png)

![image](https://user-images.githubusercontent.com/36766101/219647699-27a5e26e-1c8c-47c2-8269-10d05d6b782b.png)
![image](https://user-images.githubusercontent.com/36766101/219648118-18ac7041-88b5-4fb3-9e55-7b29cc9abf5f.png)
![image](https://user-images.githubusercontent.com/36766101/219651059-42f429ba-a6a0-4654-a02d-2db6aac89107.png)
![image](https://user-images.githubusercontent.com/36766101/219651590-e583e580-4638-402b-b587-a6745c7bb3e2.png)


# Azure SQL Protect Data
![image](https://user-images.githubusercontent.com/36766101/219850215-d037bb15-c26c-4df5-a1a8-e1811cd4c3e7.png)
![image](https://user-images.githubusercontent.com/36766101/219850680-6120183b-4e8c-4a29-bd0f-1d2b5fd696a8.png)
![image](https://user-images.githubusercontent.com/36766101/219850819-fec5cdc4-487d-40f4-9232-f03a4470f9d0.png)
![image](https://user-images.githubusercontent.com/36766101/219850841-1d8f6f01-3405-4688-8318-a6ed9a833dff.png)

![image](https://user-images.githubusercontent.com/36766101/219851277-571e4203-4b80-44f8-92a5-9b4c2c0875f8.png)


 Data Masking
 ![image](https://user-images.githubusercontent.com/36766101/219853225-1f7a9d86-b069-4d7a-8a66-a8a7f264d922.png)


![image](https://user-images.githubusercontent.com/36766101/219853057-1c810e09-00a7-4259-b500-31012dde94b7.png)


SQL Audit 
![image](https://user-images.githubusercontent.com/36766101/219853435-6e24b0ec-6ad1-40e8-a95e-98137c0536dc.png)

![image](https://user-images.githubusercontent.com/36766101/219853387-0ea069cd-5e9b-46e8-90cd-88f7c06f7c25.png)

Create login/role/user

on database where data stored (not master db)
1 CREATE ROLE developers 2 GRANT SELECT, INSERT, UPDATE to developers (no delete operations) 

switch to master and create login
3 CREATE LOGIN acdev1 WITH password='Password1';

switch back to data database
4 CREATE USER acdev1 FROM LOGIN acdev1;  Associate our new user with the developers role  5 EXEC sp_addrolemember 'developers', 'acdev1';

verify following operations use acdev1 to login
1 SELECT * FROM SalesLT.Customer (allowed) and 2 DELETE FROM SalesLT.Customer WHERE CustomerID = '1' (denied)


# Backup local SQL Server to Azure and restore it to Azure SQL
![image](https://user-images.githubusercontent.com/36766101/219903954-6411a823-9faf-45cf-8ba6-b8b1c75c0509.png)


# Azure SQL Migration extension for Azure Data Studio
![image](https://user-images.githubusercontent.com/36766101/219927442-a38aff3d-ee0c-4298-a191-876abb636833.png)
![image](https://user-images.githubusercontent.com/36766101/219923029-61867113-ab11-43bf-a6b7-21b8b0909356.png)
![image](https://user-images.githubusercontent.com/36766101/219923129-76f3b597-0aa1-40fe-a1ab-0bb36c3735f0.png)
![image](https://user-images.githubusercontent.com/36766101/219923293-90229db4-8586-4527-9a1a-4dce9ad77aa9.png)
![image](https://user-images.githubusercontent.com/36766101/219923437-a301d189-3379-4428-9f1b-f434bf2f3657.png)
![image](https://user-images.githubusercontent.com/36766101/219937454-91704461-1764-4a12-ad1e-ed56fc3a3e46.png)
![image](https://user-images.githubusercontent.com/36766101/219937474-d86ab5be-28e1-4d92-9ce3-7687d1e4a958.png)
![image](https://user-images.githubusercontent.com/36766101/219937499-0394e4c8-76b1-42b8-97f5-cd0a7e97fe65.png)
![image](https://user-images.githubusercontent.com/36766101/219937540-9eaca7bd-767e-474b-8868-bd1d53645ca0.png)
![image](https://user-images.githubusercontent.com/36766101/219938993-20cd8a25-7a7c-4c2f-a516-d678833f2747.png)
![image](https://user-images.githubusercontent.com/36766101/219939035-5343526c-820d-4feb-baaa-f02216d6892a.png)
![image](https://user-images.githubusercontent.com/36766101/219944827-5a28041d-a7b2-4ef4-ba5a-fc15b9252721.png)



# Azure Connect Hub and Spoke Networks with VNet peering
![image](https://user-images.githubusercontent.com/36766101/222579592-6a37d90f-6db3-4a06-9f5e-c5817a526739.png)

# Azure NSG
![image](https://user-images.githubusercontent.com/36766101/222581657-cff44930-4069-4197-966a-5ac936d979a5.png)
![image](https://user-images.githubusercontent.com/36766101/231902187-c66e0a0e-ef22-4b64-a851-d0b7464065b7.png)
![image](https://user-images.githubusercontent.com/36766101/231902288-478a1a85-7a93-4db1-b6c1-80fd79850b83.png)
![image](https://github.com/xiongye77/azure/assets/36766101/11c77a38-a23b-4539-8d03-843088648155)
![image](https://github.com/xiongye77/azure/assets/36766101/26d073ab-9c57-44a9-8f50-531c0d74f0c4)
![image](https://github.com/xiongye77/azure/assets/36766101/ffb46bc4-85b3-4d09-9b97-9f2707204b17)
Augmented Security Rules use Application Security Group 
![image](https://github.com/xiongye77/azure/assets/36766101/b366bac2-8b3e-4408-a956-8f2f834f6b11)
![image](https://github.com/xiongye77/azure/assets/36766101/bbbdb11c-47be-4e0c-b6a4-b71b72eee60e)
Service Tag
![image](https://github.com/xiongye77/azure/assets/36766101/fd679a99-3689-4a87-a27c-64e3512cb3ea)


# Azure Virtual Network NAT ï¼Compare to AWS	NAT Gatewayï¼associate with multiple subnets
![image](https://user-images.githubusercontent.com/36766101/222584968-25ef7791-f562-4e61-95c9-ec6f59d213b6.png)

# Azure Vnet Peering
![image](https://user-images.githubusercontent.com/36766101/222587410-08e3fa61-ea99-4953-b3a9-8a17137f7473.png)
![image](https://github.com/xiongye77/azure/assets/36766101/e576afaa-972c-43d3-bb32-0bacab9be2f4)


# Azure Service Endpoint (AWS VPC endpoints)
![image](https://user-images.githubusercontent.com/36766101/222590115-77d16fbb-d354-4476-a9ab-c837bf2fa9aa.png)
![image](https://user-images.githubusercontent.com/36766101/222590314-70b7003a-7cea-428c-9be4-f3b89504361b.png)

# Azure Private Link
![image](https://user-images.githubusercontent.com/36766101/222592111-e033664d-5a67-4163-8a99-d92079ce4298.png)
![image](https://user-images.githubusercontent.com/36766101/222592421-1c9712e4-d144-42d1-9f15-f36b3e948440.png)

![image](https://user-images.githubusercontent.com/36766101/222592312-5d0a1a6a-652d-48c6-a82e-11177d3f7ccb.png)

![image](https://user-images.githubusercontent.com/36766101/222599702-762cb981-39d6-4789-a3cf-434bba7ad9ff.png)
![image](https://user-images.githubusercontent.com/36766101/222602655-beb61dd9-01e8-43f5-9778-395a6fee19f4.png)


![image](https://user-images.githubusercontent.com/36766101/222604249-cc92d29e-16f0-40fd-9fc3-6e4eb93059f1.png)

![image](https://user-images.githubusercontent.com/36766101/222604164-210c9755-dd08-464b-b309-66655b8d30e0.png)


# Azure load balancer layer 4
![image](https://user-images.githubusercontent.com/36766101/222604949-ae72cddd-47e8-4ca4-bea5-474608fa688b.png)

# Azure application gateway layer 7
![image](https://user-images.githubusercontent.com/36766101/222605080-772b48da-14b7-4eaa-a81e-bc0799820bb8.png)
![image](https://github.com/xiongye77/azure/assets/36766101/3d84d885-a96e-4ecf-bc1f-e62588b4db59)
![image](https://github.com/xiongye77/azure/assets/36766101/7be39432-c2b7-4f75-a4b8-b11a884ba32f)
![image](https://github.com/xiongye77/azure/assets/36766101/ca390389-f0ca-4fb5-977d-f707831580c0)

# Azure Traffic Manager
![image](https://user-images.githubusercontent.com/36766101/222617384-c19cf4d2-21d6-4b22-8e3b-9cadbe0c17b6.png)
![image](https://github.com/xiongye77/azure/assets/36766101/96f4c1f3-53fa-48d9-bd6f-422229551ac9)
![image](https://github.com/xiongye77/azure/assets/36766101/b18366f5-6f93-44b6-9bb9-24a82941ada6)


# Azure frontdoor (AWS Cloudfront)
![image](https://user-images.githubusercontent.com/36766101/222622462-9c25f1b1-6c5b-48b4-b655-5510abdce9d1.png)
![image](https://user-images.githubusercontent.com/36766101/222622798-c5ab4115-3481-4247-b6c8-a23b6f999f60.png)
![image](https://user-images.githubusercontent.com/36766101/222623641-13a71e8a-8542-4a3a-959e-90f7307b365c.png)
![image](https://user-images.githubusercontent.com/36766101/222661827-995acebd-9b49-49b1-afdb-46d45c65c309.png)
![image](https://github.com/xiongye77/azure/assets/36766101/fa6301a6-9f20-4750-8e70-042b50a52033)


# Azure web application firewall
![image](https://user-images.githubusercontent.com/36766101/222658726-3ab193b6-f147-489f-bce9-3f498cac37e5.png)
![image](https://user-images.githubusercontent.com/36766101/222658889-73410dbe-8305-421d-97a0-42da63dbbc35.png)
![image](https://github.com/xiongye77/azure/assets/36766101/8d353141-8dd0-431d-821c-3ad9d052635f)
![image](https://github.com/xiongye77/azure/assets/36766101/2d888509-00a9-4401-92ca-04440a90cc41)
![image](https://github.com/xiongye77/azure/assets/36766101/59e8369e-9bf3-41d2-a951-9f622378aed5)
![image](https://github.com/xiongye77/azure/assets/36766101/753841ef-fc8b-4053-95de-d7860f64baec)



# Azure Firewall Manager
![image](https://user-images.githubusercontent.com/36766101/222661005-46ddb93e-3d56-4a56-8bb0-b469622d29f1.png)

# Azure Key Vault
![image](https://user-images.githubusercontent.com/36766101/222677326-98da7fc2-5402-4830-9abf-e15d070a7da1.png)
![image](https://user-images.githubusercontent.com/36766101/222677891-e3b2e43f-0374-4a6c-a537-b558521f9acd.png)
![image](https://user-images.githubusercontent.com/36766101/222679106-09f7a4da-84b3-42d4-af87-eda7c6b391c3.png)
![image](https://user-images.githubusercontent.com/36766101/222697428-66dff6e4-bcce-4681-95e9-9260b2e49228.png)
![image](https://user-images.githubusercontent.com/36766101/222872642-207e131c-8bd9-4a6f-9a2a-09b2b3166201.png)
![image](https://user-images.githubusercontent.com/36766101/222872676-cb55c735-700b-4cba-af68-b44f89cf6583.png)
![image](https://user-images.githubusercontent.com/36766101/222872835-80a7b790-ada8-4f25-a0f4-8dd144a60b55.png)

# Azure Bastion Host
Azure Bastion is a fully managed PaaS service that you provision to securely connect to virtual machines via private IP address. It provides secure and seamless RDP/SSH connectivity to your virtual machines directly over TLS from the Azure portal, or via the native SSH or RDP client already installed on your local computer. When you connect via Azure Bastion, your virtual machines don't need a public IP address, agent, or special client software.
Bastion provides secure RDP and SSH connectivity to all of the VMs in the virtual network for which it's provisioned. Using Azure Bastion protects your virtual machines from exposing RDP/SSH ports to the outside world, while still providing secure access using RDP/SSH.

![image](https://user-images.githubusercontent.com/36766101/226101822-90e7133c-afe9-405a-be87-602f48787408.png)
![image](https://github.com/xiongye77/azure/assets/36766101/573600da-433f-4e02-a089-3807e4860ae9)

# Azure Just-in-time VM access
![image](https://user-images.githubusercontent.com/36766101/226103027-d51bcc50-d128-429c-a84a-d76680945034.png)

# Azure CDN
![image](https://user-images.githubusercontent.com/36766101/222873381-7996ed2e-5ed1-4d2b-a439-0355eb3b7971.png)
![image](https://user-images.githubusercontent.com/36766101/222704979-4002d836-927f-42d6-9736-c67702f5a558.png)

# Azure Storage Account registered with AD DS   https://blog.51sec.org/2022/03/azure-file-shares-integrating-with.html
![image](https://user-images.githubusercontent.com/36766101/222855103-a224715f-7a01-4fbd-a2b5-34e13ff00757.png)
![image](https://user-images.githubusercontent.com/36766101/222856451-ccb032f6-03c7-4514-8026-1822eaeec88b.png)



# Azure ADLS (data lake storage gen2)
ADLS Gen2 has significant performance and security advantages for analytical workloads
Both the object store model (such as Azure blob storage) and the hierarchical file system model (ADLS Gen1 and Gen2) are compatible with HDFS (Hadoop Distributed File System). This is achieved with drivers that implement server-side HDFS semantics to translate into remote storage APIs, allowing ADLS Gen2 to behave very similarly to native HDFS.
![image](https://github.com/xiongye77/azure/assets/36766101/e7a55a2c-ace3-4181-b3a0-bd120c7666a2)

![image](https://user-images.githubusercontent.com/36766101/222868967-68e10bd6-3351-4012-9e28-dad39edb49a1.png)
![image](https://user-images.githubusercontent.com/36766101/222868863-dcb056cd-5f68-4154-b910-d4347309316c.png)
![image](https://user-images.githubusercontent.com/36766101/222869736-0486eb3d-51b7-465e-a708-fab77cd26edb.png)


# Azure Synapse Analytics
![image](https://github.com/xiongye77/azure/assets/36766101/fd65cc8a-c00e-4a24-b9fc-0ff9bca1e9b0)

![image](https://user-images.githubusercontent.com/36766101/222870407-934283bd-4324-49f8-a53c-abff5acc9b76.png)
![image](https://user-images.githubusercontent.com/36766101/222870426-766507ad-3f24-4aea-aebc-ee7e95db3725.png)
![image](https://github.com/xiongye77/azure/assets/36766101/1f80fa05-b6ab-4d47-b6d6-11935792f7f5)



# Azure RBAC 
<img width="3292" height="1720" alt="image" src="https://github.com/user-attachments/assets/54038a52-4755-4f07-9400-9a1d837e0f1d" />

![image](https://user-images.githubusercontent.com/36766101/222871289-d5565576-4761-4963-a6b3-d987c486ed7e.png)
![image](https://user-images.githubusercontent.com/36766101/222871492-4f763190-11d8-41d6-9ad5-7e7f316488f8.png)
![image](https://user-images.githubusercontent.com/36766101/222871823-1ed26062-217d-447d-ad2b-ac02f55e2544.png)
![image](https://user-images.githubusercontent.com/36766101/222871948-e4c510e2-423c-441b-a57f-73866805413c.png)
<img width="1304" height="611" alt="image" src="https://github.com/user-attachments/assets/c73cd57f-a9bb-4e26-b6ff-7e099628a137" />
<img width="847" height="858" alt="image" src="https://github.com/user-attachments/assets/818b97f9-d51d-4d8f-a775-495da623f6c1" />
<img width="1673" height="816" alt="image" src="https://github.com/user-attachments/assets/dcf9f390-cb68-4176-9e63-20159b005e90" />



# Azure RBAC customer role 
<img width="934" height="436" alt="image" src="https://github.com/user-attachments/assets/41fce675-e99c-4dcb-802d-a569d29bc6c2" />


# Azure powershell cli 
![image](https://user-images.githubusercontent.com/36766101/222873435-aa44cc77-97ab-4164-ad1e-dd9d0ac0391d.png)


# Azure Disk Encryption

![image](https://user-images.githubusercontent.com/36766101/222876244-328267c7-12f8-4936-a602-36774c9ea7ae.png)

# Azure Blob version
![image](https://user-images.githubusercontent.com/36766101/222881304-54165ca1-82a0-46ff-a835-f286f053633b.png)
![image](https://user-images.githubusercontent.com/36766101/222881433-d6d8e1ad-2d23-4a00-ad12-5191e693cdec.png)


# Azure Blob Point-In-Time Restore
![image](https://user-images.githubusercontent.com/36766101/222881677-2d4d791d-20d9-4804-97d2-3b3a946bda79.png)
![image](https://user-images.githubusercontent.com/36766101/222881747-e0640701-05c9-4846-a49b-07714b91da34.png)

# Azure SQL long term retention
![image](https://user-images.githubusercontent.com/36766101/222882245-f7b8ea49-097c-404f-95e8-a7aa716b73a1.png)
![image](https://user-images.githubusercontent.com/36766101/222882301-073c367c-9ecb-44a5-9116-88aac876c8a4.png)

# Azure SQL Server active geo-replication implementation
![image](https://user-images.githubusercontent.com/36766101/222882466-fdfc0de7-62eb-4ef1-acd8-0da49b5899cc.png)
![image](https://user-images.githubusercontent.com/36766101/222882666-a2a72c2b-feac-4bc8-9833-e90c80df47e5.png)

# Azure Auto-Failover Group Implementation
![image](https://user-images.githubusercontent.com/36766101/222884706-10459a38-48cc-44a5-8e31-39b133602df0.png)
![image](https://user-images.githubusercontent.com/36766101/222884943-5d9cb0f0-835f-4ae6-800e-658f753a6050.png)
![image](https://user-images.githubusercontent.com/36766101/222885083-4765cbef-fc1f-4559-be03-78952d31fb62.png)
![image](https://user-images.githubusercontent.com/36766101/222885373-bf126ab6-0405-4b5b-8a27-aa5b02118402.png)

Active geo-replication is designed as a business continuity solution that allows you to create readable secondary databases of individual databases on a server in the same or different data center (region). Auto-failover groups allow you to manage replication and failover of a group of databases on a server or all databases in a managed instance to another region.
In active geo-replication is on Database level and can have up to 4 secondaries. The Failover Groups are on server level and can only have one copy in a different region.
Geo Replication is used for only Azure SQL Database but Failover groups is applicable to both Azure SQL DB and Azure SQL DB managed instance.
![image](https://user-images.githubusercontent.com/36766101/222887175-8afce748-98ac-4258-a831-877b66bd2302.png)
![image](https://user-images.githubusercontent.com/36766101/222887094-4a745131-1fbb-421d-b5c0-eaad2c2bd389.png)
![image](https://user-images.githubusercontent.com/36766101/222887365-4601e9b3-3b4f-485f-99be-5029d37860e4.png)


# Azure Cosmos DB Global Replication
![image](https://user-images.githubusercontent.com/36766101/222893855-6e27dd8e-18cc-4101-bb80-c0a657a800eb.png)
![image](https://github.com/xiongye77/azure/assets/36766101/0a69a425-2194-4a88-8837-f2b836fda4f0)
![image](https://github.com/xiongye77/azure/assets/36766101/5ab9d14e-c716-4d71-a120-7618aea8caf6)
![image](https://github.com/xiongye77/azure/assets/36766101/a9a60c20-3ed3-4244-8059-597d22d96928)
![image](https://github.com/xiongye77/azure/assets/36766101/5cc89599-a433-4784-8ef1-5cdb90e74af7)

# Azure Backup Agent and Recovery Services vault
![image](https://user-images.githubusercontent.com/36766101/222894288-44fbb12b-d950-47e5-96f8-df67c0614138.png)
![image](https://user-images.githubusercontent.com/36766101/222894710-aee7b3a4-2a7c-4adc-9c92-552e0eaed550.png)


![image](https://user-images.githubusercontent.com/36766101/222893796-94fd3072-e450-422e-b662-21c08cd0698d.png)

![image](https://user-images.githubusercontent.com/36766101/222893553-9833f4da-f412-4240-b0cb-2b45858b9c41.png)
![image](https://user-images.githubusercontent.com/36766101/222896389-a99b37c6-b155-4389-a116-ad68d40c4fb1.png)


# Azure Site Recovery
![image](https://user-images.githubusercontent.com/36766101/222896787-e50eba85-d0e3-4070-8d69-c0cf488b402c.png)
![image](https://user-images.githubusercontent.com/36766101/222896844-a16a6241-30b1-4f0e-8e5b-35d5d4fcc7e8.png)
![image](https://user-images.githubusercontent.com/36766101/222896932-f07d1a65-be8d-4f7d-b5c2-0bb1ab472fb3.png)
![image](https://user-images.githubusercontent.com/36766101/222897015-231178c0-35ca-4d42-b960-390412d01b11.png)
![image](https://user-images.githubusercontent.com/36766101/222897120-923bbb4d-a0e0-4d00-ada6-b8c9289e9808.png)

# Azure Monitor
![image](https://user-images.githubusercontent.com/36766101/222948701-42380354-36ec-422d-88dd-31a3fe24d378.png)

![image](https://user-images.githubusercontent.com/36766101/222897590-ed1fefba-34e2-4409-88b2-54ca5e08bd53.png)
![image](https://user-images.githubusercontent.com/36766101/222897829-13d47d1c-bb58-434b-a9e5-7b5cf5cd9e25.png)
![image](https://user-images.githubusercontent.com/36766101/222898097-f21f302c-cdee-4e75-a0c3-83715fde60f7.png)
![image](https://user-images.githubusercontent.com/36766101/222898551-d9e417aa-7c41-4814-a1c3-e48e9736f121.png)
![image](https://user-images.githubusercontent.com/36766101/222898587-ac32439a-2900-4eff-b59e-a41057435ab8.png)
![image](https://user-images.githubusercontent.com/36766101/222899736-f6a615b9-dcfd-4b30-9bfb-4cea6cb99733.png)
![image](https://user-images.githubusercontent.com/36766101/222899959-9f18a281-e5a0-46a9-95ea-21d22e9ed2ee.png)
![image](https://user-images.githubusercontent.com/36766101/222900589-8d6f345c-7866-48c1-b2bc-417560fa503c.png)
![image](https://user-images.githubusercontent.com/36766101/222903391-a71352aa-c265-46b7-960f-406d72795a0e.png)
![image](https://user-images.githubusercontent.com/36766101/222903537-c531155b-7ba2-43e9-ad5b-e55bacb1bbf0.png)

# Monitor Storage for Security Events with Azure Monitor
The Azure Monitor Logs feature of Azure Monitor collects, stores, and organizes log and performance data from monitored resources. In this lab, you will enable diagnostic settings on a storage account to send Blob storage logs to a Log Analytics workspace. You will also use Azure Monitor Logs to query for anonymous access to blobs and create an Azure Monitor alert to notify you when anonymous access to a storage account is logged.
Solution
![image](https://github.com/xiongye77/azure/assets/36766101/601a4ae0-bbdc-4823-8098-465910a91382)
![image](https://github.com/xiongye77/azure/assets/36766101/b4718867-3009-4bce-b028-4c8bdb968598)
![image](https://github.com/xiongye77/azure/assets/36766101/42ba1659-714d-4b3c-8aab-ca9d0cda166a)
![image](https://github.com/xiongye77/azure/assets/36766101/5f831d73-a46f-4742-9c68-ac44e362e05f)
![image](https://github.com/xiongye77/azure/assets/36766101/57f5f921-9d80-4099-a133-c8992be94188)
![image](https://github.com/xiongye77/azure/assets/36766101/ba29d612-c7ed-4cfd-b8fb-f3ecb2c6a225)
![image](https://github.com/xiongye77/azure/assets/36766101/2b7253c7-2170-4c2a-8bfe-51cfbfe052af)
![image](https://github.com/xiongye77/azure/assets/36766101/b837e55c-37ba-4b3a-8b6e-6cf59406cf5d)
![image](https://github.com/xiongye77/azure/assets/36766101/b0c4949b-00f6-48c4-976b-1ae4fa167448)





# Azure Function
![image](https://user-images.githubusercontent.com/36766101/222945000-f3d430ba-db67-43ac-92e0-5c449dc9f591.png)
![image](https://user-images.githubusercontent.com/36766101/222944872-2727b9ec-8b18-4fae-adff-048ce23079f3.png)
![image](https://user-images.githubusercontent.com/36766101/222944886-e73b91ea-4310-454c-b6b6-37e4a8af4f50.png)
![image](https://user-images.githubusercontent.com/36766101/222944830-f333838d-bb24-4865-a976-e47952bb3895.png)


# Azure Application Insight
![image](https://github.com/xiongye77/azure/assets/36766101/dd5f28b9-448d-4b4d-83fb-873977b860fc)

![image](https://user-images.githubusercontent.com/36766101/222947525-c11c25fd-dd05-4e09-b746-91b52c964edf.png)
![image](https://github.com/xiongye77/azure/assets/36766101/83f008e5-dc57-4a44-8434-88ba63105ef2)

![image](https://github.com/xiongye77/azure/assets/36766101/b3090557-8778-4e62-9be2-6b9029c4b7e7)
![image](https://github.com/xiongye77/azure/assets/36766101/689e5b9e-f9bc-4b61-8d5a-4d34ca86828e)
![image](https://github.com/xiongye77/azure/assets/36766101/22dafda8-6dc8-4f47-9cc6-7650662b6b09)


# Azure Sentinel
Microsoft Sentinel is a cloud-native security information and event management (SIEM) platform that uses built-in AI to help analyze large volumes of data across an enterpriseâfast.
Microsoft Sentinel is a cloud-native SIEM (security information and event management) solution with SOAR (security orchestration, automation, and response) capabilities. You can use Microsoft Sentinel to collect, detect, investigate, and respond to security threats across your infrastructure. In this lab, you will deploy Microsoft Sentinel, generate some security alerts, and investigate those alerts.
![image](https://github.com/xiongye77/azure/assets/36766101/45dcef18-81e9-4b9a-8570-f965d580547a)
![image](https://github.com/xiongye77/azure/assets/36766101/02a6b90c-db3c-4779-a94a-8c88f1d0688d)
![image](https://github.com/xiongye77/azure/assets/36766101/d8cd06d6-e4ed-4831-90d0-c887793a8128)
![image](https://github.com/xiongye77/azure/assets/36766101/e0b057fa-ae41-426e-9178-815a91dd32b9)
![image](https://github.com/xiongye77/azure/assets/36766101/907f0d70-c13f-4897-923e-cf55f7810848)
![image](https://github.com/xiongye77/azure/assets/36766101/585337f4-bfc3-4991-a0fa-b094ab8ab842)


![image](https://github.com/xiongye77/azure/assets/36766101/fca2d45b-a1b3-4b98-8d55-cb1ec98d1657)

![image](https://github.com/xiongye77/azure/assets/36766101/fc138c4f-6167-4618-a339-353f5b999869)


![image](https://github.com/xiongye77/azure/assets/36766101/58825b00-0970-4dec-9596-24a6cd421a9d)

![image](https://user-images.githubusercontent.com/36766101/226215051-4ad1e9d8-fe37-4a46-9aee-486ab1942311.png)
![image](https://user-images.githubusercontent.com/36766101/226220517-455cfff1-eb9e-4e91-8dbe-c8e8ef5f7481.png)
![image](https://user-images.githubusercontent.com/36766101/226220552-99e9d948-a35c-4bd8-9757-6d2567dcd231.png)
![image](https://user-images.githubusercontent.com/36766101/226221481-335fe565-df39-4075-9a39-6922fd5f6246.png)



![image](https://user-images.githubusercontent.com/36766101/222955070-5607cf31-1f55-4590-a81f-c9d83c15eb8d.png)
![image](https://user-images.githubusercontent.com/36766101/222955327-14ab3fe6-6d60-4069-9435-3d98fbcb79bb.png)


![image](https://user-images.githubusercontent.com/36766101/222955603-f3fabe1d-fab2-46b1-9546-350e0eb402dd.png)
![image](https://user-images.githubusercontent.com/36766101/222957033-a43d6d7e-f87b-4c10-99ee-7ddf93b521ff.png)

![image](https://user-images.githubusercontent.com/36766101/222957003-7d7460e7-7613-45a8-8334-128bc9fa3aab.png)

![image](https://user-images.githubusercontent.com/36766101/222956911-43c2b820-c311-4d6b-9f7e-460a001c64e7.png)


# Azure application insight 
![image](https://user-images.githubusercontent.com/36766101/223040394-c6fa7da9-6219-4f37-b18b-eb57d717ddb8.png)
![image](https://user-images.githubusercontent.com/36766101/223040606-fdc591e0-3584-4547-a155-30e2a5a8c69a.png)
![image](https://user-images.githubusercontent.com/36766101/223040730-57105d17-fe9c-41a2-b27c-21bd0626a45c.png)
![image](https://user-images.githubusercontent.com/36766101/223040879-84011840-1481-49dc-802e-ee3df09b9672.png)



# Azure CDN
![image](https://user-images.githubusercontent.com/36766101/223042217-e638d0fa-2de0-4113-a490-2f67fb30b8c4.png)
![image](https://user-images.githubusercontent.com/36766101/223042320-9d816768-c760-418f-8038-49ec1375c3a8.png)


# Azure VM Scale set 
custom script extenstion on storage account blob folder
![image](https://user-images.githubusercontent.com/36766101/223628640-93fb0a20-f86e-43e9-a9cc-58bd5351a67f.png)
networking inbound rule 
![image](https://user-images.githubusercontent.com/36766101/223636153-922f7020-749b-4801-8914-996a91b60258.png)

# Azure Security
https://learn.microsoft.com/en-us/azure/security/fundamentals/overview

![image](https://user-images.githubusercontent.com/36766101/223904629-0e29434c-6a6f-49f2-a53f-5aa8ca0d5b3c.png)
![image](https://user-images.githubusercontent.com/36766101/223912362-c3291d2c-d367-47e9-a808-c81510697afc.png)

Azure firewall in hub-spoke network topology 
![image](https://user-images.githubusercontent.com/36766101/223936834-b16e192b-808c-474c-85b2-fd1ec454bdad.png)
![image](https://user-images.githubusercontent.com/36766101/223938560-99be314b-47d1-4773-b7c7-e151f225539d.png)
![image](https://user-images.githubusercontent.com/36766101/223939884-92095406-9711-49bc-bdca-db9778d4734a.png)
![image](https://user-images.githubusercontent.com/36766101/223983662-b6a30e34-1976-42d1-a70b-f51f552bf841.png)
![image](https://user-images.githubusercontent.com/36766101/223985076-eae2d5e9-1c8f-40b4-b818-94b9e23a263a.png)
![image](https://user-images.githubusercontent.com/36766101/223989911-50c27ecb-a95d-4337-b362-87ef52e3ca3b.png)
![image](https://user-images.githubusercontent.com/36766101/223990052-51881bd0-721e-4aef-8ed2-6cab8b499618.png)
![image](https://user-images.githubusercontent.com/36766101/224016851-8e44ef19-65e6-4b92-80f7-d249e00b4fe4.png)


# Azure Troubleshooting Network Security Groups
![image](https://user-images.githubusercontent.com/36766101/225883000-cf0fa864-45d3-4875-877b-69127c246363.png)
![image](https://user-images.githubusercontent.com/36766101/225886079-f62885c6-ede6-47eb-b580-a5785e08ef2c.png)
![image](https://user-images.githubusercontent.com/36766101/225887256-7421374c-40b8-4e73-8220-ca0b15035bf4.png)


# Azure App Security
![image](https://user-images.githubusercontent.com/36766101/226169623-93d64acf-d029-4047-b1eb-e6c2f7850a90.png)
![image](https://github.com/xiongye77/azure/assets/36766101/177dcdaf-b138-41f1-b1f3-fc194711c67b)
![image](https://github.com/xiongye77/azure/assets/36766101/094c2ecb-ed76-4565-82b2-3c7c510a49d6)



# Azure App Service Environment
![image](https://github.com/xiongye77/azure/assets/36766101/6f76a7e0-2d72-49f2-bb45-6a9666456fb4)
![image](https://github.com/xiongye77/azure/assets/36766101/9ce4901f-d916-41d0-81fd-370ff5e5a86b)
![image](https://github.com/xiongye77/azure/assets/36766101/15019ca0-0921-461a-b629-4df63b22f844)

![image](https://user-images.githubusercontent.com/36766101/226170024-cbf3edc1-f429-4e55-8516-c0634b00bf12.png)
![image](https://user-images.githubusercontent.com/36766101/226170103-822c3396-7731-42f0-9f42-cdc36231c28a.png)
![image](https://user-images.githubusercontent.com/36766101/226170498-f6874991-e7e9-4793-bdcb-4c6c70eadd5c.png)


# Azure AKS
![image](https://user-images.githubusercontent.com/36766101/226173734-e448d97a-d049-4a50-a3f3-4dd955c71925.png)
![image](https://user-images.githubusercontent.com/36766101/226174004-98169d36-c297-4249-8c07-61609f8a6d7c.png)


# Azure defender
Microsoft Defender for Cloud offers advanced threat protection and automated security assessments, giving organizations centralized security management for their cloud infrastructure. The toolâs vulnerability assessment capabilities enable users to identify weaknesses within their systems and prioritize remediation efforts.

![image](https://github.com/xiongye77/azure/assets/36766101/b0c96439-fccf-4ed7-be58-68e5157a5c70)

![image](https://user-images.githubusercontent.com/36766101/226228739-94cf67f9-e65d-4013-9eca-882d44cdf17f.png)
![image](https://github.com/xiongye77/azure/assets/36766101/edfb63fe-3fb8-4808-adaf-9fc68a7635b7)
![image](https://github.com/xiongye77/azure/assets/36766101/7251edc7-d605-4cea-b826-2d9fb4e97783)

![image](https://github.com/xiongye77/azure/assets/36766101/1d0a8688-38cf-4804-af09-e53e93fa0a00)
![image](https://github.com/xiongye77/azure/assets/36766101/5d61a2d1-edac-43d7-bf27-5cd234b1c41f)

![image](https://github.com/xiongye77/azure/assets/36766101/6e85dc36-c934-48f5-bc2b-0768d6d764d8)
![image](https://github.com/xiongye77/azure/assets/36766101/8b7ff4c9-262f-4a01-80b6-034a3944b24a)
![image](https://github.com/xiongye77/azure/assets/36766101/14f0faaa-0336-4f66-b585-fceaede4a823)
![image](https://github.com/xiongye77/azure/assets/36766101/5ba5f9ff-403f-4f51-9f2a-a54115ffb8bf)
![image](https://github.com/xiongye77/azure/assets/36766101/57420939-3258-4e1f-86e5-24533fe6f7ef)
![image](https://github.com/xiongye77/azure/assets/36766101/2be3d168-4b2c-4beb-af6c-2e9c417cc6fa)
![image](https://github.com/xiongye77/azure/assets/36766101/5a59b4fd-6016-4218-871e-0bdc496c3885)



# Azure database and server level firewall 
![image](https://user-images.githubusercontent.com/36766101/227698776-ef14b3ad-61b5-4bab-ace3-5db778c49b04.png)
![image](https://user-images.githubusercontent.com/36766101/227699907-2da63575-d941-4c4f-9b05-4ea4f9e157e3.png)
![image](https://user-images.githubusercontent.com/36766101/227699947-5a8420d7-3ed9-44a7-bb6a-4895381c65a4.png)


#Azure SQL Server Hyperscale mode 
![image](https://user-images.githubusercontent.com/36766101/227705619-1fd18af0-3fb1-4ede-92ce-a15781b42488.png)

#Azure import database from storage account backup content and scale up
![image](https://user-images.githubusercontent.com/36766101/227705852-9b406dc4-91f0-4449-9b88-aaebdef326e7.png)
![image](https://user-images.githubusercontent.com/36766101/227706116-65bb00a9-ed18-4028-981d-87a26add33a4.png)
![image](https://user-images.githubusercontent.com/36766101/227706139-f2d37853-76c1-438a-9b20-2ac923cb2711.png)
![image](https://user-images.githubusercontent.com/36766101/227706201-e8dea552-f119-45f2-83f9-a4dceff565af.png)
![image](https://user-images.githubusercontent.com/36766101/227706465-9e0b5dd1-3715-460b-8e4b-9139ea2a8a75.png)

# Azure SQL Elastic pool and database
![image](https://user-images.githubusercontent.com/36766101/227707091-89e1af54-b02c-4419-9fa5-ac6c6d2b9f68.png)


# Azure SQL database backup retention and restore
![image](https://user-images.githubusercontent.com/36766101/227709482-5a853990-7446-4e10-a679-beee425b95ae.png)
![image](https://user-images.githubusercontent.com/36766101/227709773-a0770ea2-d7df-405c-9bc4-2f21ff4940b9.png)


# Azure SQL database HA/DR
![image](https://user-images.githubusercontent.com/36766101/227710416-999d60b4-b2a5-4097-8292-2ccee11ddf7e.png)
![image](https://user-images.githubusercontent.com/36766101/227710813-587ef933-15f5-4fe2-b69d-ad063e1d5eb2.png)
![image](https://user-images.githubusercontent.com/36766101/227710976-f76df508-5f55-4427-a43f-78481e325aa6.png)

# Azure SQL performance view
![image](https://user-images.githubusercontent.com/36766101/227714921-e2b581c7-5a2a-4630-be1e-27020e5bfc00.png)
![image](https://user-images.githubusercontent.com/36766101/227715042-78988841-f387-4f70-9888-f66da87bf59b.png)
![image](https://user-images.githubusercontent.com/36766101/227715203-f8e638a1-ed89-4b46-90c2-da7eb7bb89ff.png)
![image](https://user-images.githubusercontent.com/36766101/227715228-49963671-0c68-44a8-94d2-bf20f3a9a7a0.png)
![image](https://user-images.githubusercontent.com/36766101/227715443-d0879e7b-30ad-4458-9b5f-f99fa736a985.png)
![image](https://user-images.githubusercontent.com/36766101/227716104-78d1e15d-b506-4e36-af9d-c757c8db4460.png)

#Azure application 
![image](https://user-images.githubusercontent.com/36766101/235807474-d9753c1a-f2fd-4bbe-bd51-8379c0a8dfcd.png)


# AKS 
![image](https://user-images.githubusercontent.com/36766101/230055114-eaceb2b5-e794-49ad-8428-384815d4fa2b.png)
![image](https://user-images.githubusercontent.com/36766101/230088968-0ffb5a9d-3f1e-4cf0-96ce-d3bb1fb8c9af.png)
![image](https://user-images.githubusercontent.com/36766101/230089697-90952cbe-4992-4ad6-94f6-c803a4f8eb78.png)
![image](https://user-images.githubusercontent.com/36766101/230089938-2d443f3a-4c92-4678-9107-a7730cc248aa.png)
![image](https://user-images.githubusercontent.com/36766101/230090436-df7ea613-7e78-4f37-be7f-ca4b17f5fc22.png)
![image](https://user-images.githubusercontent.com/36766101/230090772-e1e4d1d5-1eea-476f-aaeb-db2cd774f7c4.png)
![image](https://user-images.githubusercontent.com/36766101/230091177-34d99c8a-2482-4ba4-ad8b-b5e23764c07a.png)
![image](https://user-images.githubusercontent.com/36766101/230227617-8119fd60-7ed3-490a-936e-79360c386e61.png)
![image](https://user-images.githubusercontent.com/36766101/230236382-d611c1a0-40a5-4ac6-a51c-2bbfa676c58d.png)
https://kubernetes.io/docs/tasks/debug/debug-cluster/crictl/
![image](https://user-images.githubusercontent.com/36766101/230237100-ada7bab0-a141-4428-909d-478944115f36.png)
![image](https://user-images.githubusercontent.com/36766101/230237946-33b412f9-5b0a-4492-bafe-4b2b5b2fa2b2.png)
![image](https://user-images.githubusercontent.com/36766101/230239748-2a5361ee-3c04-4245-989b-892e141b7a75.png)
![image](https://user-images.githubusercontent.com/36766101/230241161-a39a6a0b-b0c1-47c6-93b8-102b4688a44e.png)
![image](https://user-images.githubusercontent.com/36766101/230272550-4fa043d2-064a-4dd4-9527-325caab01f16.png)
![image](https://user-images.githubusercontent.com/36766101/230272788-99867af8-1440-4504-aade-849548c952e3.png)
![image](https://user-images.githubusercontent.com/36766101/230273975-d0bd6db3-ffac-4325-9fa1-4b0376204d08.png)
![image](https://user-images.githubusercontent.com/36766101/230274466-5fad3cfc-103b-4eea-ac84-eaeec0d2f13d.png)
![image](https://user-images.githubusercontent.com/36766101/230275320-d4ec4ec9-24b0-4178-b487-8a5a27c28d7f.png)
![image](https://user-images.githubusercontent.com/36766101/230276305-2c0b9af4-96b0-45af-bdb1-95afbe309de5.png)
![image](https://user-images.githubusercontent.com/36766101/230289551-f247a23b-18a8-4cc5-91ce-207237f2e2a4.png)
![image](https://user-images.githubusercontent.com/36766101/230495884-e14fa3c9-3c91-4ad1-ae47-e9b88db19c9e.png)
![image](https://user-images.githubusercontent.com/36766101/230499415-eb5c6a2a-6f6f-4437-9a75-dc559f16161e.png)
![image](https://user-images.githubusercontent.com/36766101/230499797-76fd0fa9-cdd6-4323-9e50-73d28f1f3116.png)
![image](https://user-images.githubusercontent.com/36766101/230500441-99a57f79-1618-4d5b-a467-fd759ab7831b.png)
![image](https://user-images.githubusercontent.com/36766101/230508620-c8f2da89-b1ac-4648-a1ad-98ae651ef940.png)
![image](https://user-images.githubusercontent.com/36766101/230508981-848842bc-0367-4aed-b5d3-3530f220cb82.png)
![image](https://user-images.githubusercontent.com/36766101/230509356-718eca1c-70a2-422e-8b28-75d030c49b07.png)
![image](https://user-images.githubusercontent.com/36766101/230509846-213d63f6-edb5-4356-8e77-7d0715de6b16.png)
![image](https://user-images.githubusercontent.com/36766101/230509956-f3bb05ad-0adc-478b-9d48-9fe1729b7b4e.png)
![image](https://user-images.githubusercontent.com/36766101/230510046-41c160f9-c19e-4b73-93a8-7d1a5e3992e2.png)
![image](https://user-images.githubusercontent.com/36766101/230516088-dfdc3819-e357-4764-9c57-a3e48353776f.png)
![image](https://user-images.githubusercontent.com/36766101/230522525-6abdf55f-e669-4a23-9d46-ddf5635f212a.png)
![image](https://user-images.githubusercontent.com/36766101/230522639-391f6b87-b192-486e-92dc-aa6766f152bb.png)
![image](https://user-images.githubusercontent.com/36766101/230551411-be9cb536-8ecf-4798-84cb-c8740f8cf7e2.png)
https://learn.microsoft.com/en-us/azure/aks/custom-node-configuration
![image](https://user-images.githubusercontent.com/36766101/230580477-5347d178-6c41-4af0-9857-348bfe632b1b.png)
![image](https://user-images.githubusercontent.com/36766101/230583539-3ddc9965-16fc-4e02-92c6-55482c33e4de.png)
![image](https://user-images.githubusercontent.com/36766101/230583697-5c52b90c-da89-49e8-935f-c370274ff3cc.png)
https://learn.microsoft.com/en-us/azure/aks/spot-node-pool
![image](https://user-images.githubusercontent.com/36766101/230585884-4eb509b5-1b69-46df-8eb1-74ed3cf48394.png)
https://learn.microsoft.com/en-us/azure/aks/gpu-cluster
![image](https://user-images.githubusercontent.com/36766101/230588546-d5cfbf47-19fd-41ba-bd69-8c17acb6df5d.png)
![image](https://user-images.githubusercontent.com/36766101/230591400-0512c207-fee8-4b6f-b484-8522899a2be1.png)
![image](https://user-images.githubusercontent.com/36766101/230591490-317fa580-01a3-4a06-9505-17d0f78819db.png)
![image](https://user-images.githubusercontent.com/36766101/230595932-f3b9c599-58f9-4b74-b9ec-103eced252b1.png)
![image](https://user-images.githubusercontent.com/36766101/230597629-e3379a0c-7d38-4b2d-983b-b79c558a362d.png)
![image](https://user-images.githubusercontent.com/36766101/230604460-5833d166-0488-412e-9c0d-cdaf5870f21e.png)
![image](https://user-images.githubusercontent.com/36766101/230721940-18ce0cb2-9b15-418c-8989-7c9bae1b2f0e.png)
![image](https://user-images.githubusercontent.com/36766101/230722514-51fe4886-d61d-4bf7-8e51-dd458492c1a4.png)
![image](https://user-images.githubusercontent.com/36766101/230723792-06f6cfef-81a2-4525-9b11-6b367cd241f9.png)
![image](https://user-images.githubusercontent.com/36766101/230800530-74c3f1b7-4782-4604-88ff-5feeeb139a9a.png)
![image](https://user-images.githubusercontent.com/36766101/230800628-eabed1ce-794b-4c11-87e4-282f5071719d.png)
![image](https://user-images.githubusercontent.com/36766101/230801115-c56cf6f7-f98e-48b1-8842-ec73908f6667.png)
![image](https://user-images.githubusercontent.com/36766101/231034524-563d46d5-efad-4dcd-9c79-a3091bcbe3e4.png)
![image](https://user-images.githubusercontent.com/36766101/231034906-4371e811-344c-41a4-ac48-7910c5685071.png)
![image](https://user-images.githubusercontent.com/36766101/231035054-b435de3a-76d8-4af5-96db-122af38d8142.png)
![image](https://user-images.githubusercontent.com/36766101/231035820-e377a902-cd48-46cf-9a2d-d2d3cb138f23.png)
![image](https://user-images.githubusercontent.com/36766101/231046335-c68b71b3-5e21-4a73-9183-7ca18b1f7355.png)
![image](https://user-images.githubusercontent.com/36766101/231051344-2e22837b-430a-497c-ab84-193c6e0349b8.png)
![image](https://user-images.githubusercontent.com/36766101/231056317-ac86f8e8-9b84-45df-a864-05641136cc90.png)
![image](https://user-images.githubusercontent.com/36766101/231048420-c5cbb1e6-6cbd-4b9c-bfb5-5343bc307156.png)
![image](https://user-images.githubusercontent.com/36766101/231067996-96f45f5d-5896-42d9-a850-a385de4c27bb.png)
![image](https://user-images.githubusercontent.com/36766101/231068715-92bae6ea-8b90-4746-99e0-df79c55fe36e.png)


# Azure Standard Load Balancer- Inbound NAT Rules
![image](https://github.com/xiongye77/azure/assets/36766101/da8e11c4-0a1c-4d10-aca6-825753fee801)

# Azure Internet LB+ Web VMSS + Internal LB + App VMSS 
![image](https://github.com/xiongye77/azure/assets/36766101/5a41a642-f6a5-45f1-9c36-784faea5d293)

# Azure SQL TDE 
![image](https://github.com/xiongye77/azure/assets/36766101/5ba5a3f8-f65f-4df3-8a33-df20f5ffae92)

![image](https://github.com/xiongye77/azure/assets/36766101/011d6e9b-ec20-4f58-bbe5-4e1f45d71534)
![image](https://github.com/xiongye77/azure/assets/36766101/7ce0e45f-18e4-4fbe-95bb-148e1d2e4ce4)

![image](https://github.com/xiongye77/azure/assets/36766101/d3c834b3-4dfa-486f-bd6f-e21bca9703c9)

![image](https://github.com/xiongye77/azure/assets/36766101/357dd5a9-8035-4b62-8ce5-749be6a2f4d2)

![image](https://github.com/xiongye77/azure/assets/36766101/dbf0d1c6-b5f4-4d04-bb6c-4e4720dac491)
![image](https://github.com/xiongye77/azure/assets/36766101/808d0014-9670-47d5-bf70-89b484dbc843)

# Azure SQL Add AD user 
![image](https://github.com/xiongye77/azure/assets/36766101/ad78dd67-7a35-484e-b1ca-590c028f643d)

# Azure DB security connection
![image](https://github.com/xiongye77/azure/assets/36766101/93ea5453-f8b4-4ee3-a335-1be2ed0ac52e)
![image](https://github.com/xiongye77/azure/assets/36766101/6d31dbe2-f0ca-4b64-8989-b1739875f734)

# Azure Managed Identity and key vault access policy for it
![image](https://github.com/xiongye77/azure/assets/36766101/6c2d96f3-e3bb-460c-934a-a57d74e3b8eb)
![image](https://github.com/xiongye77/azure/assets/36766101/4f827184-8606-4f72-93e6-f0ab71e028bb)


# Azure key vault only allow private subnet access through private endpoint connection
![image](https://github.com/xiongye77/azure/assets/36766101/95908b68-a5bb-4da9-a122-6e524ec25c93)
![image](https://github.com/xiongye77/azure/assets/36766101/d42b6279-1291-401d-bd75-b7317a6753f2)


# Azure policy
![image](https://github.com/xiongye77/azure/assets/36766101/990347ac-fd88-4a1d-9ba5-dfb2e261a743)
![image](https://github.com/xiongye77/azure/assets/36766101/f09d49c9-9121-4733-a1de-84fcc877b476)
![image](https://github.com/xiongye77/azure/assets/36766101/bfb391fe-5bf2-4122-b2d9-f017f5d93814)
![image](https://github.com/xiongye77/azure/assets/36766101/660ba771-81c9-481d-bce4-5367c292ab61)
![image](https://github.com/xiongye77/azure/assets/36766101/f179ac62-63fd-4f6d-9233-f39e74529f62)
![image](https://github.com/xiongye77/azure/assets/36766101/69b98f70-375a-4ffb-97b4-a0580a374c5e)

# Azure policy assignment and remediation (2024/01/14)
![image](https://github.com/xiongye77/azure/assets/36766101/6ff45203-808b-48be-9590-c300a45edcaa)
![image](https://github.com/xiongye77/azure/assets/36766101/7a19007b-7ccc-41ed-9d1e-e767f4c380f4)
![image](https://github.com/xiongye77/azure/assets/36766101/cd93caa7-8269-4e01-a9a7-6908ea247dbc)
![image](https://github.com/xiongye77/azure/assets/36766101/898b1e78-2acd-4a67-ba48-23a258d0a7c2)
![image](https://github.com/xiongye77/azure/assets/36766101/526188e5-9b5f-44d3-b29e-c8fa6a2db705)
![image](https://github.com/xiongye77/azure/assets/36766101/fc7919c6-4afa-46a3-af3c-d85af47a9b18)


# Azure monitor for change analysis
![image](https://github.com/xiongye77/azure/assets/36766101/b7ff8d4d-f51a-4ff4-a3d3-212b3b23965f)
![image](https://github.com/xiongye77/azure/assets/36766101/66d9b0bc-99d3-4ef4-aa77-8609d1edac8d)


# Azure Blueprint
![image](https://github.com/xiongye77/azure/assets/36766101/20f4bb32-353b-4515-9657-b26823c9c3b2)


# Azure landing zone

<img width="1656" height="833" alt="image" src="https://github.com/user-attachments/assets/e9454886-1333-4544-9cb8-24b7448e2a20" />
<img width="1528" height="2024" alt="image" src="https://github.com/user-attachments/assets/d61f29e6-8aa9-46fc-80b8-f3fe3900c74e" />

<img width="1423" height="689" alt="image" src="https://github.com/user-attachments/assets/04bf9d47-5918-4f8f-a9d1-5a85b14f5749" />

![image](https://github.com/xiongye77/azure/assets/36766101/03498397-2f26-471c-a0dd-581837a7d29a)
<img width="1216" height="902" alt="image" src="https://github.com/user-attachments/assets/8836e367-92d2-44c9-aefc-6915a6425162" />
<img width="1394" height="774" alt="image" src="https://github.com/user-attachments/assets/5844d3df-d292-44b8-a59a-daa6a82455ae" />
<img width="3138" height="1582" alt="image" src="https://github.com/user-attachments/assets/ab27183a-5099-4bd1-865f-e3f31d52f262" />


# Azure management group 
![image](https://github.com/xiongye77/azure/assets/36766101/badb1e2b-b6f2-42d2-9852-73ef36ce0890)

![image](https://github.com/xiongye77/azure/assets/36766101/f1dfb6c7-d5ef-4eaa-9f9b-715d4ae22586)

If your organization has many Azure subscriptions, you may need a way to efficiently manage access, policies, and compliance for those subscriptions. Management groups provide a governance scope above subscriptions. You organize subscriptions into management groups; the governance conditions you apply cascade by inheritance to all associated subscriptions.

# Azure Resource Tag
![image](https://github.com/xiongye77/azure/assets/36766101/16cbc6aa-3ad7-460b-8a8b-1fbf95dc166e)
![image](https://github.com/xiongye77/azure/assets/36766101/74796312-48a0-493f-b80d-56dc6e262a13)
![image](https://github.com/xiongye77/azure/assets/36766101/d1e44512-9613-4f3e-b2ff-f3a8618bac7a)
![image](https://github.com/xiongye77/azure/assets/36766101/8f47eb20-beaf-45bc-ad39-959ace13cc96)

Get tags: Get-AzTag
Get tags with name: Get-AzTag -Name "department"
Get resources with tags: Get-AzResources -TagName is-temporary -TagValue True


# Microsoft Service Trust Portal (STP)
<img width="1042" alt="image" src="https://github.com/user-attachments/assets/14b986fb-8920-4a61-ba88-22342c9e25f5" />



# Azure Resource Lock ï¼Resource lock override RBAC permissionsï¼
<img width="1728" height="893" alt="image" src="https://github.com/user-attachments/assets/f9603bae-cc70-46e7-b42e-8e5e9214fabe" />

Lock Prevails: If a resource lock is present and denies the specific action (e.g., a CanNotDelete lock for a delete operation, or a ReadOnly lock for any modification/deletion), the operation fails, even if the user is an Owner or User Access Administrator for that resource.


![image](https://github.com/xiongye77/azure/assets/36766101/a01aa4a7-98eb-456b-af19-6aaf29b21b26)
![image](https://github.com/xiongye77/azure/assets/36766101/cec12b5c-e9ab-4d70-b326-b9ac94ce4d6a)
<img width="1074" alt="image" src="https://github.com/user-attachments/assets/9dd56ae9-7c30-414f-95e4-606eb7c13a46" />
<img width="1042" alt="image" src="https://github.com/user-attachments/assets/412533a4-463d-4a2a-8a9d-742a29bf7187" />

# Azure advisor (2023/11/12)
![image](https://github.com/xiongye77/azure/assets/36766101/a34626f9-c90f-4586-a58c-d9a219c24a70)
![image](https://github.com/xiongye77/azure/assets/36766101/8326a14e-df01-46b1-bced-f4b972ae0335)
![image](https://github.com/xiongye77/azure/assets/36766101/490b9b67-0b60-4532-8b7b-abb39e3d0659)


# Azure Privileged Identity Management 
![image](https://github.com/xiongye77/azure/assets/36766101/fa985fc3-bf0a-414a-b22e-ae9378b7a1be)
![image](https://github.com/xiongye77/azure/assets/36766101/18c254b4-5281-4757-bc7d-08b519e610a0)

# Azure administrative units
![image](https://github.com/xiongye77/azure/assets/36766101/3c6ce562-c879-4aaa-b397-91cfcfd2014c)

# Azure VPN Gateway and Virtual Network Gateway (2023/12/04)
![image](https://github.com/xiongye77/azure/assets/36766101/e8c95802-d539-4c6f-bc78-18ff44e2cf59)
![image](https://github.com/xiongye77/azure/assets/36766101/be66ed4d-bd77-45f1-a937-03fcd55067cd)
![image](https://github.com/xiongye77/azure/assets/36766101/f30449ac-fc96-4f3e-ae8b-50341daac1dd)

# Azure Express Route
![image](https://github.com/xiongye77/azure/assets/36766101/e3cd0ff5-5162-4c2b-94f6-6a218b29aae7)

# Azure DDOS protection plan and enable it on VNET 
![image](https://github.com/xiongye77/azure/assets/36766101/cd133455-8456-4578-bd93-a022f558b7bf)
![image](https://github.com/xiongye77/azure/assets/36766101/fba3de7c-02b5-4b6f-aa13-6141f62e4f62)

# Azure data brick (2023/12/25)
![image](https://github.com/xiongye77/azure/assets/36766101/d035ec13-b17b-431b-a91d-2ab89b67b54d)
![image](https://github.com/xiongye77/azure/assets/36766101/7ac4269e-fa6c-4f08-9a43-0381ec354e2a)

# Azure file storage (AWS EFS) 2023/12/19
![image](https://github.com/xiongye77/azure/assets/36766101/8bee49af-e045-4e4a-996a-0a3360298601)

![image](https://github.com/xiongye77/azure/assets/36766101/f01b702f-5c55-4084-9670-84bf18343313)

![image](https://github.com/xiongye77/azure/assets/36766101/edbf4a16-2a23-4176-9384-c07b83816243)
![image](https://github.com/xiongye77/azure/assets/36766101/be3fde41-5daf-4d1a-90d2-d54572168e8f)
![image](https://github.com/xiongye77/azure/assets/36766101/b3fd1181-b5fc-44e4-973e-01737a083707)
![image](https://github.com/xiongye77/azure/assets/36766101/61e3be13-3d14-4e0f-b197-a7ce6b9fca44)
![image](https://github.com/xiongye77/azure/assets/36766101/87865169-8835-48c1-bda3-99aaa37a7c3d)
![image](https://github.com/xiongye77/azure/assets/36766101/c0cd27f5-b1ac-425e-904f-7c1b4d65da6f)

![image](https://github.com/xiongye77/azure/assets/36766101/40d8b763-de04-447b-ba1e-bd09d389fe34)


# Azure file sync 
![image](https://github.com/xiongye77/azure/assets/36766101/9924c116-000c-4295-bd66-547f30cfc725)
![image](https://github.com/xiongye77/azure/assets/36766101/aed0014a-5964-45c0-afa9-867319aec848)
![image](https://github.com/xiongye77/azure/assets/36766101/c8b830e8-e254-48a4-b2bf-5b28fe044e47)
![image](https://github.com/xiongye77/azure/assets/36766101/1cf83d35-6d8c-48aa-8246-b0b93a647e59)


# Azure Storage Account
![image](https://github.com/xiongye77/azure/assets/36766101/c7cc7b72-baf1-4b90-9164-d85bc7b2d347)

![image](https://github.com/xiongye77/azure/assets/36766101/3e78e074-57dc-4647-9c6b-132479f1eb16)

Azure Blob Storage
![image](https://github.com/xiongye77/azure/assets/36766101/8f04995e-9500-40a2-94f7-865ef8ea6ecf)

![image](https://github.com/xiongye77/azure/assets/36766101/81873841-70f3-466d-993d-e8537f24e24f)
![image](https://github.com/xiongye77/azure/assets/36766101/5c83330f-8eed-42db-8694-251b4a70c4f6)

Resource group Access Control (IAM)
![image](https://github.com/xiongye77/azure/assets/36766101/f988304c-a8b3-4ab1-a512-2b3080ec479c)

# Azure Storage Redundancy 
![image](https://github.com/xiongye77/azure/assets/36766101/48b3d56f-4de1-451f-abab-1b301e53b080)
![image](https://github.com/xiongye77/azure/assets/36766101/81d1f4c9-a2ac-4660-b22b-4fec6d008fb9)
![image](https://github.com/xiongye77/azure/assets/36766101/ec37ea42-5b5d-4d0b-88cf-496cef163e44)
![image](https://github.com/xiongye77/azure/assets/36766101/4095d26e-d706-468d-8dba-e7641f37537b)
![image](https://github.com/xiongye77/azure/assets/36766101/f4706fe4-fb78-4c40-a5b5-be17a0dc0b95)
![image](https://github.com/xiongye77/azure/assets/36766101/c2fef2d8-3015-425b-90a0-5ab6ba14dc62)

# Azure VM Storage performance
![image](https://github.com/xiongye77/azure/assets/36766101/c2c89473-f0a2-4a9e-9904-a7eaf4c2c033)
![image](https://github.com/xiongye77/azure/assets/36766101/aa72fcb9-24dc-4767-aedb-4e54d9fbea64)
![image](https://github.com/xiongye77/azure/assets/36766101/2b917961-7720-452e-bb15-d01a5d0601ab)


# Azure Secondary Read Access
![image](https://github.com/xiongye77/azure/assets/36766101/03de018e-ba47-4827-b246-6ab28283dd01)

# Azure Storage Account Failover
![image](https://github.com/xiongye77/azure/assets/36766101/4a7cf7ae-c772-4bd7-818f-4d08abfa907c)

# Azure Vnet default routes (2023/12/22)
![image](https://github.com/xiongye77/azure/assets/36766101/b2e00a6f-33b9-4793-a621-1fc60112aa12)
# Azure NAT Gateway attch to subnets
![image](https://github.com/xiongye77/azure/assets/36766101/8a50d120-0d05-451a-b12d-c9e76a72b58d)

# Azure attach network interface to VM
![image](https://github.com/xiongye77/azure/assets/36766101/d4379f9a-a81a-4dc0-8205-e4f29136b568)

# Azure Data Factory
![image](https://github.com/xiongye77/azure/assets/36766101/3dc00ab8-414c-4cfd-99f0-f5e7e8fd147b)
![image](https://github.com/xiongye77/azure/assets/36766101/9148cd41-0eb8-4dda-973a-503e32144176)
![image](https://github.com/xiongye77/azure/assets/36766101/5c31b0c7-0e12-4a2f-b758-27810eb65b0f)


# Azure Web App
![image](https://github.com/xiongye77/azure/assets/36766101/d72dbc81-e853-49a1-b891-b95ed0684bfb)
![image](https://github.com/xiongye77/azure/assets/36766101/060ab23d-9f1a-4ea7-bd9f-03dfb8229cc0)
![image](https://github.com/xiongye77/azure/assets/36766101/15aea27c-b4a0-4dac-b661-9559b3ae4f13)

# Azure Container Registry
![image](https://github.com/xiongye77/azure/assets/36766101/af977cb5-ac9c-48cd-8370-b6c28d165b96)



# Azure Devops (2023/12/29)
![image](https://github.com/xiongye77/azure/assets/36766101/1e6a065e-3985-4242-8407-91a62ef8981a)
![image](https://github.com/xiongye77/azure/assets/36766101/943ee5da-759f-4a89-92e4-d1d9d8d28623)

![image](https://github.com/xiongye77/azure/assets/36766101/b2b40bfe-c511-421a-88d8-1840b949113c)
![image](https://github.com/xiongye77/azure/assets/36766101/30cdf206-df72-4b78-ba09-8dfe130c7780)
![image](https://github.com/xiongye77/azure/assets/36766101/c2f9a1e7-fcc2-40bd-ad6d-ab57a8ff2a3e)
![image](https://github.com/xiongye77/azure/assets/36766101/ac5e85e3-53be-4bbc-b907-bab2bed8b74f)
![image](https://github.com/xiongye77/azure/assets/36766101/c3af07b8-55c3-490b-82e9-47dbe456b888)
![image](https://github.com/xiongye77/azure/assets/36766101/cfb109c5-ef07-4c46-a45f-0ae92b93b4c9)
![image](https://github.com/xiongye77/azure/assets/36766101/300be84c-ad36-436f-a63c-2c77c576bfd0)
![image](https://github.com/xiongye77/azure/assets/36766101/2c0769a1-af57-4cbf-b4a3-67fdf72f2dce)
![image](https://github.com/xiongye77/azure/assets/36766101/ed7b651f-69a5-49ac-bb4f-5595ad4d4d03)
![image](https://github.com/xiongye77/azure/assets/36766101/d52d70a4-21ac-414a-83f2-27d2868dfa09)
![image](https://github.com/xiongye77/azure/assets/36766101/6ce74320-2a68-4ecd-b5c5-060e0421dbe8)
![image](https://github.com/xiongye77/azure/assets/36766101/34c1e298-a145-497d-9e9a-a135d2f24069)
![image](https://github.com/xiongye77/azure/assets/36766101/f5e43306-b103-4bbe-8040-25df9d8132de)
![image](https://github.com/xiongye77/azure/assets/36766101/091fe65f-7bc5-4bbe-9962-88d1709ce93b)
![image](https://github.com/xiongye77/azure/assets/36766101/4c8cf327-1a23-4d02-9b60-74de289cbed1)
![image](https://github.com/xiongye77/azure/assets/36766101/9283a252-3a2b-4501-bfb5-edb9d0210824)
![image](https://github.com/xiongye77/azure/assets/36766101/b05b9fa0-132e-4b6b-88c6-cc7634889983)
![image](https://github.com/xiongye77/azure/assets/36766101/89313400-db80-493f-b428-b063c518acfb)
![image](https://github.com/xiongye77/azure/assets/36766101/52451624-95e0-4140-8b5d-50c15ca519ce)
![image](https://github.com/xiongye77/azure/assets/36766101/c5ccb608-fc03-4cac-9b44-b95095f24222)
![image](https://github.com/xiongye77/azure/assets/36766101/f24dbaee-874e-4a92-a548-6a85de0c2a2f)
![image](https://github.com/xiongye77/azure/assets/36766101/7eb986f8-600d-44ed-bf2e-5898ed8370ef)
![image](https://github.com/xiongye77/azure/assets/36766101/6dce457e-6c0f-4721-88d7-11cd2099f7f4)
![image](https://github.com/xiongye77/azure/assets/36766101/d40306d3-46b3-4076-a84e-3d85c3bf00f0)

# Azure Devops pipeline 
Create release pipeline to deploy 
![image](https://github.com/xiongye77/azure/assets/36766101/e1af2310-06d3-406e-a9f8-84aa77a181ad)

![image](https://github.com/xiongye77/azure/assets/36766101/476e5c1d-551e-4ce6-9bcb-b2e11fce2efe)
![image](https://github.com/xiongye77/azure/assets/36766101/a9726d43-95b4-44ee-bf7f-51337dcc01ff)
![image](https://github.com/xiongye77/azure/assets/36766101/197ee10a-0e26-46cc-8196-8496fee70e38)
![image](https://github.com/xiongye77/azure/assets/36766101/2ebef868-f523-4a0a-b029-caf828e58c03)
![image](https://github.com/xiongye77/azure/assets/36766101/da67c893-ef38-4415-9b1b-cdf0d3466cf5)
![image](https://github.com/xiongye77/azure/assets/36766101/6dfc4de8-f4f4-45df-8dec-ff7c9d7d23d0)
![image](https://github.com/xiongye77/azure/assets/36766101/5a1eb2c8-afc4-4308-9a03-c08744dc8ee2)
![image](https://github.com/xiongye77/azure/assets/36766101/70a47556-c0bc-4fc3-9a85-cdc3c81e1c69)
![image](https://github.com/xiongye77/azure/assets/36766101/93f5399b-0c37-4787-ab24-a7c1b7ded6f7)



# Use Kubernetes Secret to pull private Docker Images from DockerHub/ACR
![image](https://github.com/xiongye77/azure/assets/36766101/cc2e78ca-b830-4ce3-9385-1993126ce273)
![image](https://github.com/xiongye77/azure/assets/36766101/37ecdfe5-51df-493c-bbfe-1e1c9187372c)
kubectl create secret docker-registry my-registry-secret \
â docker-username=DOCKER_USER \
â docker-password=DOCKER_PASSWORD \
â docker-email=DOCKER_EMAIL
![image](https://github.com/xiongye77/azure/assets/36766101/11647232-313d-49d0-9a5b-7b09fbde0834)




# Azure Automation Account 
![image](https://github.com/xiongye77/azure/assets/36766101/b2207822-6a7a-4158-aa8f-9cca0a1f94c6)
![image](https://github.com/xiongye77/azure/assets/36766101/8d416b66-8fb9-42fd-998e-b2941869dbf4)
![image](https://github.com/xiongye77/azure/assets/36766101/f6cb6579-752e-47f8-8bd5-e3e301b14674)
![image](https://github.com/xiongye77/azure/assets/36766101/64a8504a-4917-4427-b414-e66edbca3fa9)


# Azure SQL Server ï¼Restore from File and Maintenance Plan Tasksï¼
![image](https://github.com/xiongye77/azure/assets/36766101/1c1ae6c7-96b3-4d18-93b4-5c1967bf7eee)

![image](https://github.com/xiongye77/azure/assets/36766101/7f5272ad-51b9-42c8-be11-be52ccd5bcb2)
![image](https://github.com/xiongye77/azure/assets/36766101/aae8f050-4ea1-46dc-afd2-174ff25a5f1b)
![image](https://github.com/xiongye77/azure/assets/36766101/26133af0-8f2c-4f98-a290-01f7b19a9d7c)
![image](https://github.com/xiongye77/azure/assets/36766101/c53e7a87-667f-45e0-9771-547faf31d0e6)

# Azure Web App use managed identity to access SQL Server without embed username/password 
![image](https://github.com/xiongye77/azure/assets/36766101/0a2b7c82-4c2c-4a09-a982-3bc5158d6ba9)
![image](https://github.com/xiongye77/azure/assets/36766101/f57187d8-58d4-4494-b46e-884c6aae15c8)

If Database does not support managed identity , use Web App to access key vault which stored database username/password through managed identity 

# Azure Web App log and App Insight
![image](https://github.com/xiongye77/azure/assets/36766101/9e8b1741-f01a-4a0a-b51e-582de6eb8264)
![image](https://github.com/xiongye77/azure/assets/36766101/e29995e9-eafa-44ad-b701-37b447b17c07)
![image](https://github.com/xiongye77/azure/assets/36766101/156deefa-521e-4248-81af-e59081d59c2e)
