# Azure


# What is Azure AD Tenant
An Azure AD tenant provides identity and access management (IAM) capabilities to applications and resources used by your organization. An identity is a directory object that can be authenticated and authorized for access to a resource. Identity objects exist for human identities such as students and teachers, and non-human identities like classroom and student devices, applications, and service principles.

The Azure AD tenant is an identity security boundary that is under the control of your organization’s IT department. Within this security boundary, administration of objects (such as user objects) and configuration of tenant-wide settings are controlled by your IT administrators.


![image](https://user-images.githubusercontent.com/36766101/217786909-193b9f80-9210-44ae-8c80-33124f0b0d40.png)

![image](https://user-images.githubusercontent.com/36766101/217776048-24322cdb-82ad-4b51-aeac-8e14ca48bd2f.png)
![image](https://user-images.githubusercontent.com/36766101/217776773-a40f28f8-1a95-430d-8036-198e108783c9.png)
![image](https://user-images.githubusercontent.com/36766101/217777705-90784a32-8773-49cc-b713-2e144c6b68fa.png)
![image](https://user-images.githubusercontent.com/36766101/217781902-c90895e1-852e-467d-a2f3-23bc6bbfc27e.png)
![image](https://user-images.githubusercontent.com/36766101/217786625-39081d25-cc1f-4b3d-8d13-782867079b62.png)
![image](https://user-images.githubusercontent.com/36766101/218003003-ce2bb356-93b2-4d8b-9979-3530505d2ae1.png)
![image](https://user-images.githubusercontent.com/36766101/218003796-2a78237a-d5e8-41a6-8f83-95cb2ce317b4.png)



![image](https://user-images.githubusercontent.com/36766101/217737192-cdaf8910-9226-4e67-9d8c-fbfaf4ac82e4.png)
![image](https://user-images.githubusercontent.com/36766101/217737568-4edcb7bc-e23b-491a-9fbf-1d500a8713b0.png)

![image](https://user-images.githubusercontent.com/36766101/217738798-5f0ed9fc-172a-4c44-b28c-d094bca5ed36.png)
![image](https://user-images.githubusercontent.com/36766101/217738888-6afccc19-7b4c-416b-ad2b-7de69bfbaeb0.png)
![image](https://user-images.githubusercontent.com/36766101/217741446-fa292fa3-210f-4856-80a7-e46fe744ec99.png)
![image](https://user-images.githubusercontent.com/36766101/217742742-150f2b14-5992-4ec2-b4a3-f7079e9a2e61.png)
![image](https://user-images.githubusercontent.com/36766101/217743350-aee6593d-36de-42d6-bea8-87c9a19ab3f0.png)
![image](https://user-images.githubusercontent.com/36766101/217744579-2b45c806-3df5-4d7b-acbe-9740bb5a4d5b.png)
![image](https://user-images.githubusercontent.com/36766101/217745897-e59a1087-f86a-4463-926e-1f368fb042cf.png)




![image](https://user-images.githubusercontent.com/36766101/217773251-99805671-277a-4653-ab04-05218ace9746.png)


![image](https://user-images.githubusercontent.com/36766101/217687213-1e064797-72ca-45dd-9962-97f3ab7a5527.png)
![image](https://user-images.githubusercontent.com/36766101/217687499-8b928565-8f10-429d-8002-18f6b635932f.png)


![image](https://user-images.githubusercontent.com/36766101/217688661-06097d82-1c85-4119-b7d0-2d89082d970f.png)
![image](https://user-images.githubusercontent.com/36766101/217694298-17ca7eeb-195f-4feb-bf96-d943c3af36ba.png)

![image](https://user-images.githubusercontent.com/36766101/217695649-eb80e862-9d24-4c71-9c11-efaf6408075c.png)


![image](https://user-images.githubusercontent.com/36766101/217695922-783c07ed-4340-4f4a-bf8e-29933bbdf0a9.png)

![image](https://user-images.githubusercontent.com/36766101/217696459-52b57ed2-b208-4927-872e-beb204daf462.png)

![image](https://user-images.githubusercontent.com/36766101/217720081-9990e015-3b0b-4f8b-a95d-7a09e1d0c31e.png)

![image](https://user-images.githubusercontent.com/36766101/217718425-89ee990e-71ac-4084-8c5e-f8c69a98fbc9.png)


Azure two queue solution, storage account queue and service bus queue

![image](https://user-images.githubusercontent.com/36766101/218024619-0c2bbbca-ce71-4e3d-b6c6-07021d835ecd.png)

Azure Event Grid 
![image](https://user-images.githubusercontent.com/36766101/218025269-882324c7-d25e-41de-bc07-29a916ba909e.png)

Azure Event Grid vs Event Hub vs Service Bus
![image](https://user-images.githubusercontent.com/36766101/218040662-7e134318-0e45-4015-82a0-6c9b13e5aba3.png)


![image](https://user-images.githubusercontent.com/36766101/218052323-a6e8bf5c-f077-4e5a-8892-4c06920e8cd9.png)

Azure Event Grid
![image](https://user-images.githubusercontent.com/36766101/218061223-b4a84512-26c9-4cb7-8142-e7e35578037c.png)


![image](https://user-images.githubusercontent.com/36766101/218061382-bda6f428-3998-4560-b317-1de38974691f.png)


Azure CDN

![image](https://user-images.githubusercontent.com/36766101/218064278-9702cb45-177f-4813-b132-db1a2799d316.png)


Azure API Management

internal mode
![image](https://user-images.githubusercontent.com/36766101/218082600-2cd8f1be-7a53-4d4f-b6c4-9ddae815d4a7.png)


external mode
![image](https://user-images.githubusercontent.com/36766101/218082642-1ee0b9e3-247d-4906-b976-44778f354931.png)


OAuth2 (Open Authorization) workflow
OAuth2 is a standard designed to allow a website or application to access resources hosted by other web apps on behalf of a user.OAuth 2.0 is an authorization protocol and NOT an authentication protocol. As such, it is designed primarily as a means of granting access to a set of resources, for example, remote APIs or user data.

OAuth 2.0 uses Access Tokens. An Access Token is a piece of data that represents the authorization to access resources on behalf of the end-user. OAuth 2.0 doesn’t define a specific format for Access Tokens. However, in some contexts, the JSON Web Token (JWT) format is often used. 
![image](https://user-images.githubusercontent.com/36766101/218095716-3ce416d0-2d76-4da5-98ed-ef2ce72c83ae.png)



Grant limited access to Azure Storage resources using shared access signatures (SAS), it is similar to AWS S3 pre-signed URL.
Both of those features allow anyone (with whom shared link was shared) to download or upload a file. This feature is very useful when you want to temporary share a file with some user(s) or to allow them to upload a file, without sharing your credentials (temporary creds, creating an account, etc).


Azure Files

![image](https://user-images.githubusercontent.com/36766101/218239041-00a549d4-554a-47f9-bee2-1516501a3e50.png)

One fundamental building block of Microsoft’s Azure storage services is Storage Accounts, which are top-level resources that represent a shared pool of storage. These resources offer table, queue, and blob storage for an application’s persistent storage requirements.Azure files allowing access to file storage with the Server Message Block (SMB) and Network File System (NFS) protocols used in traditional file system infrastructure.

![image](https://user-images.githubusercontent.com/36766101/218239834-3aae7dc6-ab93-4f4d-97c2-f63c9f6966f5.png)

Organizations looking to utilize Azure Files at the enterprise scale can use Azure File Sync to cache data on the Local Area Network (LAN), reduce latency, and improve user experience
![image](https://user-images.githubusercontent.com/36766101/218374561-458ee0a3-ace1-4a47-81a0-444c9a9700e0.png)


Azure Backup service

On-premises - Back up files, folders, system state using the Microsoft Azure Recovery Services (MARS) agent. Or use the DPM or Azure Backup Server (MABS) agent to protect on-premises VMs (Hyper-V and VMware) and other on-premises workloads
Azure VMs - Back up entire Windows/Linux VMs (using backup extensions) or back up files, folders, and system state using the MARS agent.
Azure Managed Disks - Back up Azure Managed Disks
Azure Files shares - Back up Azure File shares to a storage account
SQL Server in Azure VMs - Back up SQL Server databases running on Azure VMs
SAP HANA databases in Azure VMs - Backup SAP HANA databases running on Azure VMs
Azure Database for PostgreSQL servers - Back up Azure PostgreSQL databases and retain the backups for up to 10 years
Azure Blobs - Overview of operational backup for Azure Blobs


Azure virtual network
![image](https://user-images.githubusercontent.com/36766101/218245613-2551e44e-ee30-4203-8a30-6078e20460a3.png)
Virtual Network NAT is a fully managed and highly resilient Network Address Translation (NAT) service. Virtual Network NAT simplifies outbound Internet connectivity for virtual networks. When configured on a subnet, all outbound connectivity uses the Virtual Network NAT's static public IP addresses.


# Azure network best practice
1 Control public IP addresses,Public IP addresses in Azure can be associated with VMs, load balancers, application gateways, and VPN gateways.A better practice is to put VMs behind Azure Load Balancer or Azure Application Gateway. 

2 Use application security groups,Application Security Groups helps to manage the security of Virtual Machines by grouping them according the applications that runs on them. It is a feature that allows the application-centric use of Network Security Groups.ASGs are used within a NSG to apply a network security rule to a specific workload or group of VMs.

![image](https://user-images.githubusercontent.com/36766101/218248348-4114be25-e09d-4fb3-8d98-a758ace34d53.png)
![image](https://user-images.githubusercontent.com/36766101/218249082-e59de4df-81a1-4ba7-96a9-55a8720c397d.png)

3 Secure north/south and east/west traffic.To secure virtual networks, consider attack vectors. Note the following points:
Using only subnet NSGs simplifies your environment, but only secures traffic into your subnet. This traffic is known as north/south traffic.
Traffic between VMs on the same subnet is known as east/west traffic.

4 Filter virtual network traffic with NSGs,Network security groups (NSGs) contain multiple inbound and outbound security rules that filter traffic going to and from resources. Filtering can be by source and destination IP address, port, and protocol.

5 Implement an Azure perimeter network.Although Microsoft invests heavily in protecting the cloud infrastructure, you must also protect your cloud services and resource groups. A multilayered approach to security provides the best defense. Putting a perimeter network in place is an important part of that defense strategy.

6 Optimize ExpressRoute routing with BGP communities,When you have multiple ExpressRoute circuits, you've got more than one path to connect to Microsoft. As a result, suboptimal routing can happen and your traffic might take a longer path to reach Microsoft, and Microsoft to your network. The longer the network path, the higher the latency.

7 Implement ExpressRoute for mission-critical connections.The Azure ExpressRoute service extends your on-premises infrastructure into the Microsoft cloud. ExpressRoute creates private connections between the virtual Azure datacenter and on-premises networks.

8 Implement Azure Virtual WAN for branch offices,For multiple VPN connections, Azure Virtual WAN is a networking service that provides optimized and automated, branch-to-branch connectivity through Azure.

9 Implement a highly available Site-to-Site VPN

10 Implement a hub and spoke network topology,
![image](https://user-images.githubusercontent.com/36766101/218247752-ebd3d9cd-e62c-4804-8e21-47c46bc686a2.png)
A hub and spoke network topology isolates workloads while sharing services, such as identity and security. The hub is an Azure virtual network that acts as a central point of connectivity. The spokes are virtual networks that connect to the hub virtual network by using peering. Shared services are deployed in the hub, while individual workloads are deployed as spokes.

11 Design subnets,To provide isolation within a virtual network, you segment it into one or more subnets, and give a portion of the virtual network's address space to each subnet.By default, Azure routes network traffic between all subnets in a virtual network.Your subnet decisions are based on your technical and organizational requirements.You create subnets by using CIDR notation

12 Set up a DNS server
Azure adds a DNS server by default when you deploy a virtual network. You can use this server to rapidly build virtual networks and deploy resources. But this DNS server only provides services to the resources on that virtual network. To connect multiple virtual networks together, you need more name resolution capabilities. You'll also need these capabilities to connect to an on-premises server from virtual networks. For example, you might need Active Directory to resolve DNS names between virtual networks. To resolve the DNS names, deploy your own custom DNS server in Azure


13 Deploy Azure Firewall
![image](https://user-images.githubusercontent.com/36766101/218254964-0fd5e192-76e8-4650-a1a6-3056f6457180.png)
Azure Firewall is a cloud-native and intelligent network firewall security service that provides the best of breed threat protection for your cloud workloads running in Azure.
Azure Firewall is offered in three SKUs: Standard, Premium, and Basic.

Azure Firewall Standard provides L3-L7 filtering and threat intelligence feeds directly from Microsoft Cyber Security. Threat intelligence-based filtering can alert and deny traffic from/to known malicious IP addresses and domains which are updated in real time to protect against new and emerging attacks.

Azure Firewall Premium provides advanced capabilities including signature-based IDPS to allow rapid detection of attacks by looking for specific patterns. These patterns can include byte sequences in network traffic, or known malicious instruction sequences used by malware.

Azure Firewall Basic is intended for small and medium size (SMB) customers to secure their Azure cloud environments. It provides the essential protection SMB customers need at an affordable price point.

14 Deploy Web Application Firewall,
![image](https://user-images.githubusercontent.com/36766101/218256149-fb0e4037-6b78-4b1a-b011-9cae74eb5641.png)

![image](https://user-images.githubusercontent.com/36766101/218257069-15adf8dc-a0de-468b-975b-11d3b98c1e89.png)
![image](https://user-images.githubusercontent.com/36766101/218257087-c5655583-4bb4-4610-8bdb-ee47d20bf690.png)

Web applications are increasingly targets of malicious attacks that exploit commonly known vulnerabilities. Exploits include SQL injection attacks and cross-site scripting attacks. Preventing such attacks in application code can be challenging. 

15 Implement Network Watcher,Network Watcher provides tools to monitor resources and communications in an Azure virtual network. For example, you can monitor communications between a VM and an endpoint, such as another VM or FQDN. You can also view resources and resource relationships in a virtual network, or diagnose network traffic issues.

16 Use private link service
Azure Private Link enables customers to access Azure PaaS services and Azure-hosted customer/partner services from a virtual network, improving network security and reducing network latency.By eliminating internet-bound traffic, customers can reduce data egress charges associated with accessing Azure PaaS services and Azure-hosted customer/partner services.
![image](https://user-images.githubusercontent.com/36766101/218296256-aac0fa4e-a364-434e-bfa1-5cfeab8294f8.png)
![image](https://user-images.githubusercontent.com/36766101/218450803-300a5d90-4ed7-4a40-9eab-5b7fe84a8add.png)
![image](https://user-images.githubusercontent.com/36766101/218444901-312ab9af-7a3f-4a55-8c30-96e141ef9972.png)
![image](https://user-images.githubusercontent.com/36766101/218451428-d3e8d1f9-dc4c-4109-b5cb-347e6f26de54.png)


Azure front door
Azure Front Door is a global, highly available, and scalable service offered by Microsoft Azure that routes incoming traffic to your backends.
It is designed to improve the performance and availability of your web applications and services. It does this by providing a global network of points of presence (POPs) that can be used to route traffic to the closest available backend.
Front Door service supports various features including load balancing, custom routing, SSL offloading, and caching. It also provides a Web Application Firewall (WAF) that can be used to protect your web applications and services from various types of attacks.
Front Door service is designed to work with other Azure services such as Azure Virtual Machines, Azure App Service, and Azure Container Instances. It can also be used with non-Azure backends such as on-premises servers or other cloud-based services.


Azure Traffic Manager
Azure Traffic Manager is a Azure service that allows you to distribute traffic across multiple endpoints, such as Azure VMs, web apps, and Azure Cloud Services.
It uses a variety of routing methods, including priority, weight, and geographic, to determine how traffic is directed to the different endpoints.
Traffic Manager can help improve the availability and performance of your applications by directing traffic to the closest or most available endpoint.
It can also be used to perform A/B testing and canary deployments, allowing you to test new versions of your application before rolling them out to all users.


Azure Cosmos DB
Azure Cosmos DB is a fully managed NoSQL and relational database for modern app development.
Azure Cosmos DB offers single-digit millisecond response times, automatic and instant scalability, along with guarantee speed at any scale. 
Cosmos DB is a database service that is globally distributed. It allows you to manage your data even if you keep them in data centers that are scattered throughout the world. 
It provides the tools you need to scale both global distribution pattern and computational resources, and these tools are provided by Microsoft Azure.

![image](https://user-images.githubusercontent.com/36766101/218296778-6782e14c-a878-4001-85a0-cf4e813faf82.png)
![image](https://user-images.githubusercontent.com/36766101/218296849-badaaec4-1b2b-4f7e-b341-60e147ccf5be.png)


Azure Monitor
![image](https://user-images.githubusercontent.com/36766101/218302991-e59e05c4-b99c-4d10-a60f-dbd784e82d7e.png)
![image](https://user-images.githubusercontent.com/36766101/218303525-f464265d-16bc-40aa-a39c-bd7a09c4fb26.png)

Azure Monitor collects monitoring telemetry from a variety of on-premises and Azure sources. Management tools, such as those in Azure Security Center and Azure Automation, also push log data to Azure Monitor. 

The service aggregates and stores this telemetry in a log data store that’s optimized for cost and performance. Analyze data, set up alerts, get end-to-end views of your applications, and use machine learning–driven insights to quickly identify and resolve problems.

Azure Monitor helps you maximize the availability and performance of your applications and services. It delivers a comprehensive solution for collecting, analyzing, and acting on telemetry from your cloud and on-premises environments. This information helps you understand how your applications are performing and proactively identify issues that affect them and the resources they depend on.


Virtual Machine Scale Sets and Custom Script Extensions
Azure Virtual Machine Scale Sets let you create and manage a group of load balanced VMs. 
The number of VM instances can automatically increase or decrease in response to demand or a defined schedule. 
Scale sets provide the following key benefits:
1 Easy to create and manage multiple VMs
2 Provides high availability and application resiliency by distributing VMs across availability zones or fault domains
3 Allows your application to automatically scale as resource demand changes
4 Works at large-scale
The Custom Script Extension downloads and runs scripts on Azure virtual machines (VMs). 
This extension is useful for post-deployment configuration, software installation, or any other configuration or management task. You can download scripts from Azure Storage or GitHub, or provide them to the Azure portal at extension runtime.
The Custom Script Extension integrates with Azure Resource Manager templates. You can also run it by using the Azure CLI, PowerShell, the Azure portal, or the Azure Virtual Machines REST API.
![image](https://user-images.githubusercontent.com/36766101/218303296-74defb8d-7905-4be5-9803-66f092eb7218.png)




Log Analytics Workspace
A Log Analytics Workspace is the environment for Azure Monitor log data.
Each workspace has its own data repository and configuration.
A workspace has a unique workspace ID and resource ID.
Same workspace name can be used within different resource groups.
It can be used to collect diagnostic or log data from Azure storage.

VM Performance Diagnostics extenstions
![image](https://user-images.githubusercontent.com/36766101/218308342-20a2f80b-8ba4-42e6-a59c-b3652f6198eb.png)
![image](https://user-images.githubusercontent.com/36766101/218308447-8dcdb783-425d-4908-ba1d-8922defd7480.png)
![image](https://user-images.githubusercontent.com/36766101/218309243-267fb410-edb8-47a2-9400-488f5e0e89a2.png)
![image](https://user-images.githubusercontent.com/36766101/218309479-1f597840-a0c0-4b0b-9cd3-34f12d85dc45.png)
![image](https://user-images.githubusercontent.com/36766101/218310042-8bf3c7c4-71c1-4019-8747-2f56a10c6bb6.png)


Configure Log Analytics for a Virtual Machine
![image](https://user-images.githubusercontent.com/36766101/218340166-e25ad23d-fb9f-4c17-b45a-f32d99547cc5.png)

![image](https://user-images.githubusercontent.com/36766101/218342070-15a0605d-9134-43fd-be3d-f2c283ded61e.png)

Azure Monitor Agent (AMA) replaces the Log Analytics agent (also known as MMA and OMS) for both Windows and Linux machines, in both Azure and non-Azure (on-premises and third-party clouds) environments. It introduces a simplified, flexible method of configuring collection configuration called data collection rules (DCRs). This article outlines the benefits of migrating to Azure Monitor Agent and provides guidance on how to implement a successful migration.



Azure Virtual Network NAT
![image](https://user-images.githubusercontent.com/36766101/218416502-a98fc384-b008-4bd0-8718-9882a70bdba0.png)

![image](https://user-images.githubusercontent.com/36766101/218414168-90456c8b-92b2-4f0e-9678-98b2bd7736c2.png)


az storage account keys list
CDN origin is storage account 
![image](https://user-images.githubusercontent.com/36766101/218644543-4ab7dfd9-b232-46ec-956d-78a8534f447e.png)
![image](https://user-images.githubusercontent.com/36766101/218641847-8ccdf4c5-0145-4642-b7d4-6547d2f7b0cb.png)
![image](https://user-images.githubusercontent.com/36766101/218642009-ed5ae5fd-7f75-4e05-a078-b1b159100798.png)


Azure SQL Server
![image](https://user-images.githubusercontent.com/36766101/218712534-7ac6623b-9dc8-4648-880e-66eff2a4527f.png)
root@linuxvm:~# dig  sqlservererty.database.windows.net

; <<>> DiG 9.16.1-Ubuntu <<>> sqlservererty.database.windows.net
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 48458
;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 65494
;; QUESTION SECTION:
;sqlservererty.database.windows.net. INA

;; ANSWER SECTION:
sqlservererty.database.windows.net. 143IN CNAME sqlservererty.privatelink.database.windows.net.
sqlservererty.privatelink.database.windows.net.1643 INA 10.0.1.4

;; Query time: 0 msec
;; SERVER: 127.0.0.53#53(127.0.0.53)
;; WHEN: Tue Feb 14 10:34:37 UTC 2023
;; MSG SIZE  rcvd: 119

Azure Active Directory (AD) can play a crucial role in not only user management, but also with application security for Azure-based solutions. When an application is registered in Azure AD and provided a service principal, it can be used to securely access other Azure resources that support Azure AD authentication.
![image](https://user-images.githubusercontent.com/36766101/219020463-72980448-f799-400c-9812-7135341b9226.png)


Azure Key Vault
Azure Key Vault allows the users to instantly store and access the sensitive information in a secured manner.
This cloud service acts as a single central storage for all the secured information which the users can retrieve using specific permissions.
The secured information can be in the form of passwords, certificates, API or cryptographic keys.

There are multiple ways to authorize your app to retrieve the certificate from Azure Key Vault. 
If your app is running within Azure, you can use Managed Service Identities.(https://learn.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/overview)
In all cases, you can use a Service Principal; in the OAuth2 specs, this is called “Client credentials grant”, or more colloquially “Machine-to-Machine flow”.

# Create a Resource Group
RESOURCE_GROUP="MyKeyVault"
LOCATION="WestUS2"
az group create   --name "$RESOURCE_GROUP"  --location "$LOCATION"

# Create a Key Vault
# The name must be globally unique
KEYVAULT_NAME="withblueink"
az keyvault create   --name "$KEYVAULT_NAME"  --resource-group "$RESOURCE_GROUP"   --location "$LOCATION"


To use a Service Principal:
# Create a Service Principal for an app called "KeyVaultSP"
az ad sp create-for-rbac --name "KeyVaultSP" --skip-assignment

AZURE_CLIENT_ID="f13db91b-2a02-4fbe-826d-5c9049d23561"
az keyvault set-policy   --name "$KEYVAULT_NAME"   --spn "$AZURE_CLIENT_ID"   --secret-permissions get   --certificate-permissions get list


Alternatives to Azure Key Vault are AWS Secrets Manager,AWS Systems Manager Parameter Store,Azure App Configuration,Hashicorp Vault
![image](https://user-images.githubusercontent.com/36766101/218969734-95e5dcb0-14a2-4d56-b207-25df4028c2e8.png)

![image](https://user-images.githubusercontent.com/36766101/218968241-0f271c59-3926-4a74-821b-b9e7c9bc5c0f.png)


Azure Service Principle 
![image](https://user-images.githubusercontent.com/36766101/219226517-f2a35603-fd94-4534-803b-34aa25a4b3be.png)
![image](https://user-images.githubusercontent.com/36766101/219231041-2deb9291-93b0-44a4-9e79-3c91362ae62e.png)


Azure Availability Set
![image](https://user-images.githubusercontent.com/36766101/219276779-5cf1a40a-4ddb-4e1c-aabf-c7d1062ae22c.png)
![image](https://user-images.githubusercontent.com/36766101/219277381-d1b99439-744f-44dc-a2ce-b8eba37710d4.png)
![image](https://user-images.githubusercontent.com/36766101/219277597-56cf4cfa-44e1-4620-b49e-ee9afbf41480.png)


Azure Instance Metadata Service
![image](https://user-images.githubusercontent.com/36766101/219285367-fcef284b-8cbc-4633-be1a-c28cc1d43a8b.png)

Azure App Service AutoScale 
![image](https://user-images.githubusercontent.com/36766101/219293487-6c87af96-53db-4506-a067-f1d82c360d89.png)

Azure Vnet peering
![image](https://user-images.githubusercontent.com/36766101/219570155-d1d4b11b-f2e0-49d5-b6ce-b6b08caa0d12.png)


Azure Network Watcher/Topology
![image](https://user-images.githubusercontent.com/36766101/219602753-f3132e86-89a4-4573-92ba-18b0c1a52425.png)

Azure Network Watcher/Connection Monitor
![image](https://user-images.githubusercontent.com/36766101/219603123-1ef950fa-5c74-451e-b2e3-7675d94515c3.png)

Azure Service Endpoint VS  Azure Private Link
![image](https://user-images.githubusercontent.com/36766101/219610103-214d6611-c3a9-4fbd-a647-4182235482f8.png)

A service endpoint provides secure and direct connectivity to Azure services using the Azure backbone network. When you enable a service endpoint for a subnet, it allows private IP addresses in the VNet to communicate or reach that particular resource type using the public IP of a resource.

Unlike a service endpoint, a private endpoint is a network interface that uses a private IP address from your virtual network. This will ensure no traffic leaves the virtual network and all the communication is private.


Azure App Service VNET Integration
![image](https://user-images.githubusercontent.com/36766101/219645655-09824569-2d0f-4858-a2e4-a73d28b4099e.png)
![image](https://user-images.githubusercontent.com/36766101/219655347-3e4cadf3-e121-43b3-90e0-1930e7cd1ff5.png)


Azure App Service Migration Assistant
![image](https://user-images.githubusercontent.com/36766101/219633154-6e1e1d65-7be2-450c-a3cf-f94b66ebd0a6.png)
![image](https://user-images.githubusercontent.com/36766101/219635121-052ffe76-fb6a-4aa9-9f49-b117fbc5809a.png)
![image](https://user-images.githubusercontent.com/36766101/219642026-fed64852-baf5-404f-b49a-95f6ee1855f5.png)


Azure SQL options
![image](https://user-images.githubusercontent.com/36766101/219647699-27a5e26e-1c8c-47c2-8269-10d05d6b782b.png)
![image](https://user-images.githubusercontent.com/36766101/219648118-18ac7041-88b5-4fb3-9e55-7b29cc9abf5f.png)
![image](https://user-images.githubusercontent.com/36766101/219651059-42f429ba-a6a0-4654-a02d-2db6aac89107.png)
![image](https://user-images.githubusercontent.com/36766101/219651590-e583e580-4638-402b-b587-a6745c7bb3e2.png)


Azure SQL Protect Data
![image](https://user-images.githubusercontent.com/36766101/219850215-d037bb15-c26c-4df5-a1a8-e1811cd4c3e7.png)
![image](https://user-images.githubusercontent.com/36766101/219850680-6120183b-4e8c-4a29-bd0f-1d2b5fd696a8.png)
![image](https://user-images.githubusercontent.com/36766101/219850819-fec5cdc4-487d-40f4-9232-f03a4470f9d0.png)
![image](https://user-images.githubusercontent.com/36766101/219850841-1d8f6f01-3405-4688-8318-a6ed9a833dff.png)

![image](https://user-images.githubusercontent.com/36766101/219851277-571e4203-4b80-44f8-92a5-9b4c2c0875f8.png)


 Data Masking
 ![image](https://user-images.githubusercontent.com/36766101/219853225-1f7a9d86-b069-4d7a-8a66-a8a7f264d922.png)


![image](https://user-images.githubusercontent.com/36766101/219853057-1c810e09-00a7-4259-b500-31012dde94b7.png)


SQL Audit 
![image](https://user-images.githubusercontent.com/36766101/219853435-6e24b0ec-6ad1-40e8-a95e-98137c0536dc.png)

![image](https://user-images.githubusercontent.com/36766101/219853387-0ea069cd-5e9b-46e8-90cd-88f7c06f7c25.png)

Create login/role/user

on database where data stored (not master db)
1 CREATE ROLE developers 2 GRANT SELECT, INSERT, UPDATE to developers (no delete operations) 

switch to master and create login
3 CREATE LOGIN acdev1 WITH password='Password1';

switch back to data database
4 CREATE USER acdev1 FROM LOGIN acdev1;  Associate our new user with the developers role  5 EXEC sp_addrolemember 'developers', 'acdev1';

verify following operations use acdev1 to login
1 SELECT * FROM SalesLT.Customer (allowed) and 2 DELETE FROM SalesLT.Customer WHERE CustomerID = '1' (denied)


# Backup local SQL Server to Azure and restore it to Azure SQL
![image](https://user-images.githubusercontent.com/36766101/219903954-6411a823-9faf-45cf-8ba6-b8b1c75c0509.png)

